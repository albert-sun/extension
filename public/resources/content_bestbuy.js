(()=>{"use strict";var e,t,r,n,o,s,a={661:(e,t,r)=>{r.a(e,(async e=>{var t=r(54);const n="content_bestbuy",o={"process-atc":async function(e,t,r){const n={accept:"application/json","accept-language":"en-US,en;q=0.9","content-type":"application/json; charset=UTF-8","sec-ch-ua":'" Not;A Brand";v="99", "Google Chrome";v="91", "Chromium";v="91"',"sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin"};return void 0!==t&&(n.a2ctransactionreferenceid=t),void 0!==r&&(n.a2ctransactioncode=r),(await fetch("https://www.bestbuy.com/cart/api/v1/addToCart",{headers:n,referrer:"https://www.bestbuy.com/cart",referrerPolicy:"strict-origin-when-cross-origin",body:`{"items":[{"skuId":"${e}"}]}`,method:"POST",mode:"cors",credentials:"include"})).status}};await async function(){(0,t.Z0)(n,o,["background","extension"]),(0,t.Vf)(n,"Finished processing content script startup routine")}(),await async function(){const e=atob(localStorage.getItem("purchaseTracker")||"e30="),r=JSON.parse(e);(0,t.eJ)("content_best-buy","merge-bestbuy-product_queues",[r])}(),e()}),1)},54:(e,t,r)=>{function n(e,t,r="info"){const n=`[${(new Date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).substring(0,8)}]\t\t(${e})\t\t${t}`;"info"===r?console.log(n):"debug"===r?console.debug(n):"warn"===r?console.warn(n):"error"===r&&console.error(n)}async function o(e,t,r=[]){const n={sender:e,handler:t,args:r};return await browser.runtime.sendMessage(n)}function s(e,t,r){browser.runtime.onMessage.addListener((async(o,s)=>{const a=o;let c={status:"success",payload:void 0};if(r.includes(a.sender)){const r=t[a.handler];if(void 0!==r){n(e,`Processing handler ${a.handler} from ${a.sender} with arguments ${JSON.stringify(a.args)}`);try{const e=await r(...a.args||[]);c.status="success",c.payload=e}catch(t){const r=t.message;c.status="error",c.payload=r,n(e,`Error processing handler ${a.handler}: ${r}`,"error")}}}return c}))}r.d(t,{Vf:()=>n,eJ:()=>o,Z0:()=>s}),r(261)}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return a[e](r,r.exports,i),r.exports}i.m=a,e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},n=e=>!--e.r&&e(),o=(e,t)=>e?e.push(t):n(t),i.a=(s,a,c)=>{var i,u,d,l=c&&[],f=s.exports,p=!0,h=!1,b=(t,r,n)=>{h||(h=!0,r.r+=t.length,t.map(((t,o)=>t[e](r,n))),h=!1)},g=new Promise(((e,t)=>{d=t,u=()=>(e(f),r(l),l=0)}));g[t]=f,g[e]=(e,t)=>{if(p)return n(e);i&&b(i,e,t),o(l,e),g.catch(t)},s.exports=g,a((s=>{if(!s)return u();var a,c;i=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var a=[];s.then((e=>{c[t]=e,r(a),a=0}));var c={};return c[e]=(e,t)=>(o(a,e),s.catch(t)),c}}var i={};return i[e]=e=>n(e),i[t]=s,i})))(s);var d=new Promise(((e,r)=>{(a=()=>e(c=i.map((e=>e[t])))).r=0,b(i,a,r)}));return a.r?d:c})).then(u,d),p=!1},s=[],i.O=(e,t,r,n)=>{if(!t){var o=1/0;for(d=0;d<s.length;d++){for(var[t,r,n]=s[d],a=!0,c=0;c<t.length;c++)(!1&n||o>=n)&&Object.keys(i.O).every((e=>i.O[e](t[c])))?t.splice(c--,1):(a=!1,n<o&&(o=n));if(a){s.splice(d--,1);var u=r();void 0!==u&&(e=u)}}return e}n=n||0;for(var d=s.length;d>0&&s[d-1][2]>n;d--)s[d]=s[d-1];s[d]=[t,r,n]},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.j=9,(()=>{var e={9:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[s,a,c]=r,u=0;if(s.some((t=>0!==e[t]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(c)var d=c(i)}for(t&&t(r);u<s.length;u++)o=s[u],i.o(e,o)&&e[o]&&e[o][0](),e[s[u]]=0;return i.O(d)},r=self.webpackChunkakitos_automated_utilities=self.webpackChunkakitos_automated_utilities||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var u=i.O(void 0,[154],(()=>i(661)));u=i.O(u)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljL3Jlc291cmNlcy9jb250ZW50X2Jlc3RidXkuanMiLCJtYXBwaW5ncyI6InVCQUFJQSxFQUNBQyxFQUNBQyxFQU1BQyxFQUNBQyxFQ1RBQyxFLDhDQ0NKLE1BQU1DLEVBQWEsa0JBQ2JDLEVBQWtCLENBQ3BCLGNBSUpDLGVBQWdDQyxFQUFLQyxFQUEyQkMsR0FFNUQsTUFBTUMsRUFBVSxDQUNaLE9BQVUsbUJBQ1Ysa0JBQW1CLGlCQUNuQixlQUFnQixrQ0FDaEIsWUFBYSxtRUFDYixtQkFBb0IsS0FDcEIsaUJBQWtCLFFBQ2xCLGlCQUFrQixPQUNsQixpQkFBa0IsZUFrQnRCLFlBaEJrQ0MsSUFBOUJILElBQ0FFLEVBQW1DLDBCQUFJRixRQUVoQkcsSUFBdkJGLElBQ0FDLEVBQTRCLG1CQUFJRCxVQUdiRyxNQUFNLGdEQUFpRCxDQUMxRSxRQUFXRixFQUNYLFNBQVksK0JBQ1osZUFBa0Isa0NBQ2xCLEtBQVEsdUJBQXVCSCxRQUMvQixPQUFVLE9BQ1YsS0FBUSxPQUNSLFlBQWUsYUFFSE0sZUFHcEJQLGtCQUVJLFFBQXVCRixFQUFZQyxFQUFpQixDQUFDLGFBQWMsZUFDbkUsUUFBYUQsRUFBWSxzREFVdkJVLFNBUE5SLGlCQUdJLE1BQU1TLEVBQXNCQyxLQUFLQyxhQUFhQyxRQUFRLG9CQUFzQixRQUN0RUMsRUFBWUMsS0FBS0MsTUFBTU4sSUFDN0IsUUFBd0IsbUJBQW9CLCtCQUFnQyxDQUFDSSxJQUczRUcsRyx1QkNsREMsU0FBU0MsRUFBYUMsRUFBUUMsRUFBU0MsRUFBUSxRQUVsRCxNQU1NQyxFQUFTLEtBTkcsSUFBS0MsTUFBUUMsbUJBQW1CLFFBQVMsQ0FDdkRDLEtBQU0sVUFDTkMsT0FBUSxVQUNSQyxPQUFRLFlBQ1RDLFVBQVUsRUFBRyxXQUVxQlQsU0FBY0MsSUFDckMsU0FBVkMsRUFDQVEsUUFBUUMsSUFBSVIsR0FFRyxVQUFWRCxFQUNMUSxRQUFRRSxNQUFNVCxHQUVDLFNBQVZELEVBQ0xRLFFBQVFHLEtBQUtWLEdBRUUsVUFBVkQsR0FD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LEVBQVUrQixFQUFhNUcsR0FBVzJHLEVBR2hCM0MsRUFBSSxFQUMzQixHQUFHYSxFQUFTZ0MsTUFBTUMsR0FBZ0MsSUFBeEJQLEVBQWdCTyxLQUFhLENBQ3RELElBQUl6RSxLQUFZdUUsRUFDWnhFLEVBQW9CcUQsRUFBRW1CLEVBQWF2RSxLQUNyQ0QsRUFBb0JNLEVBQUVMLEdBQVl1RSxFQUFZdkUsSUFHaEQsR0FBR3JDLEVBQVMsSUFBSWlDLEVBQVNqQyxFQUFRb0MsR0FHbEMsSUFER3NFLEdBQTRCQSxFQUEyQkMsR0FDckQzQyxFQUFJYSxFQUFTaEIsT0FBUUcsSUFDekJ3QyxFQUFVM0IsRUFBU2IsR0FDaEI1QixFQUFvQnFELEVBQUVjLEVBQWlCQyxJQUFZRCxFQUFnQkMsSUFDckVELEVBQWdCQyxHQUFTLEtBRTFCRCxFQUFnQjFCLEVBQVNiLElBQU0sRUFFaEMsT0FBTzVCLEVBQW9Cd0MsRUFBRTNDLElBRzFCOEUsRUFBcUI3RixLQUE2Qyx1Q0FBSUEsS0FBNkMsd0NBQUssR0FDNUg2RixFQUFtQmxFLFFBQVE0RCxFQUFxQk8sS0FBSyxLQUFNLElBQzNERCxFQUFtQi9ELEtBQU95RCxFQUFxQk8sS0FBSyxLQUFNRCxFQUFtQi9ELEtBQUtnRSxLQUFLRCxLLEdDN0N2RixJQUFJRSxFQUFzQjdFLEVBQW9Cd0MsT0FBRXZGLEVBQVcsQ0FBQyxNQUFNLElBQU8rQyxFQUFvQixPQUM3RjZFLEVBQXNCN0UsRUFBb0J3QyxFQUFFcUMsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzL3dlYnBhY2svcnVudGltZS9hc3luYyBtb2R1bGUiLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy8uL3NvdXJjZS9jb250ZW50L2Jlc3RidXkudHMiLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvLi9zb3VyY2Uvc2hhcmVkL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzL3dlYnBhY2svcnVudGltZS9ydW50aW1lSWQiLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB3ZWJwYWNrVGhlbiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgdGhlblwiKSA6IFwiX193ZWJwYWNrX3RoZW5fX1wiO1xudmFyIHdlYnBhY2tFeHBvcnRzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sKFwid2VicGFjayBleHBvcnRzXCIpIDogXCJfX3dlYnBhY2tfZXhwb3J0c19fXCI7XG52YXIgY29tcGxldGVRdWV1ZSA9IChxdWV1ZSkgPT4ge1xuXHRpZihxdWV1ZSkge1xuXHRcdHF1ZXVlLmZvckVhY2goKGZuKSA9PiAoZm4uci0tKSk7XG5cdFx0cXVldWUuZm9yRWFjaCgoZm4pID0+IChmbi5yLS0gPyBmbi5yKysgOiBmbigpKSk7XG5cdH1cbn1cbnZhciBjb21wbGV0ZUZ1bmN0aW9uID0gKGZuKSA9PiAoIS0tZm4uciAmJiBmbigpKTtcbnZhciBxdWV1ZUZ1bmN0aW9uID0gKHF1ZXVlLCBmbikgPT4gKHF1ZXVlID8gcXVldWUucHVzaChmbikgOiBjb21wbGV0ZUZ1bmN0aW9uKGZuKSk7XG52YXIgd3JhcERlcHMgPSAoZGVwcykgPT4gKGRlcHMubWFwKChkZXApID0+IHtcblx0aWYoZGVwICE9PSBudWxsICYmIHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpIHtcblx0XHRpZihkZXBbd2VicGFja1RoZW5dKSByZXR1cm4gZGVwO1xuXHRcdGlmKGRlcC50aGVuKSB7XG5cdFx0XHR2YXIgcXVldWUgPSBbXTtcblx0XHRcdGRlcC50aGVuKChyKSA9PiB7XG5cdFx0XHRcdG9ialt3ZWJwYWNrRXhwb3J0c10gPSByO1xuXHRcdFx0XHRjb21wbGV0ZVF1ZXVlKHF1ZXVlKTtcblx0XHRcdFx0cXVldWUgPSAwO1xuXHRcdFx0fSk7XG5cdFx0XHR2YXIgb2JqID0ge307XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9ialt3ZWJwYWNrVGhlbl0gPSAoZm4sIHJlamVjdCkgPT4gKHF1ZXVlRnVuY3Rpb24ocXVldWUsIGZuKSwgZGVwLmNhdGNoKHJlamVjdCkpO1xuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9XG5cdH1cblx0dmFyIHJldCA9IHt9O1xuXHRcdFx0XHRcdFx0cmV0W3dlYnBhY2tUaGVuXSA9IChmbikgPT4gKGNvbXBsZXRlRnVuY3Rpb24oZm4pKTtcblx0XHRcdFx0XHRcdHJldFt3ZWJwYWNrRXhwb3J0c10gPSBkZXA7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmV0O1xufSkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5hID0gKG1vZHVsZSwgYm9keSwgaGFzQXdhaXQpID0+IHtcblx0dmFyIHF1ZXVlID0gaGFzQXdhaXQgJiYgW107XG5cdHZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHM7XG5cdHZhciBjdXJyZW50RGVwcztcblx0dmFyIG91dGVyUmVzb2x2ZTtcblx0dmFyIHJlamVjdDtcblx0dmFyIGlzRXZhbHVhdGluZyA9IHRydWU7XG5cdHZhciBuZXN0ZWQgPSBmYWxzZTtcblx0dmFyIHdoZW5BbGwgPSAoZGVwcywgb25SZXNvbHZlLCBvblJlamVjdCkgPT4ge1xuXHRcdGlmIChuZXN0ZWQpIHJldHVybjtcblx0XHRuZXN0ZWQgPSB0cnVlO1xuXHRcdG9uUmVzb2x2ZS5yICs9IGRlcHMubGVuZ3RoO1xuXHRcdGRlcHMubWFwKChkZXAsIGkpID0+IChkZXBbd2VicGFja1RoZW5dKG9uUmVzb2x2ZSwgb25SZWplY3QpKSk7XG5cdFx0bmVzdGVkID0gZmFsc2U7XG5cdH07XG5cdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlaikgPT4ge1xuXHRcdHJlamVjdCA9IHJlajtcblx0XHRvdXRlclJlc29sdmUgPSAoKSA9PiAocmVzb2x2ZShleHBvcnRzKSwgY29tcGxldGVRdWV1ZShxdWV1ZSksIHF1ZXVlID0gMCk7XG5cdH0pO1xuXHRwcm9taXNlW3dlYnBhY2tFeHBvcnRzXSA9IGV4cG9ydHM7XG5cdHByb21pc2Vbd2VicGFja1RoZW5dID0gKGZuLCByZWplY3RGbikgPT4ge1xuXHRcdGlmIChpc0V2YWx1YXRpbmcpIHsgcmV0dXJuIGNvbXBsZXRlRnVuY3Rpb24oZm4pOyB9XG5cdFx0aWYgKGN1cnJlbnREZXBzKSB3aGVuQWxsKGN1cnJlbnREZXBzLCBmbiwgcmVqZWN0Rm4pO1xuXHRcdHF1ZXVlRnVuY3Rpb24ocXVldWUsIGZuKTtcblx0XHRwcm9taXNlLmNhdGNoKHJlamVjdEZuKTtcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBwcm9taXNlO1xuXHRib2R5KChkZXBzKSA9PiB7XG5cdFx0aWYoIWRlcHMpIHJldHVybiBvdXRlclJlc29sdmUoKTtcblx0XHRjdXJyZW50RGVwcyA9IHdyYXBEZXBzKGRlcHMpO1xuXHRcdHZhciBmbiwgcmVzdWx0O1xuXHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Zm4gPSAoKSA9PiAocmVzb2x2ZShyZXN1bHQgPSBjdXJyZW50RGVwcy5tYXAoKGQpID0+IChkW3dlYnBhY2tFeHBvcnRzXSkpKSk7XG5cdFx0XHRmbi5yID0gMDtcblx0XHRcdHdoZW5BbGwoY3VycmVudERlcHMsIGZuLCByZWplY3QpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBmbi5yID8gcHJvbWlzZSA6IHJlc3VsdDtcblx0fSkudGhlbihvdXRlclJlc29sdmUsIHJlamVjdCk7XG5cdGlzRXZhbHVhdGluZyA9IGZhbHNlO1xufTsiLCJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgeyBleHRlbnNpb25Mb2csIG1lc3NhZ2VQcm9jZXNzSGFuZGxlcnMsIHNlbmRNZXNzYWdlVG9CYWNrZ3JvdW5kIH0gZnJvbSBcIi4uL3NoYXJlZC91dGlsaXRpZXNcIjtcclxuY29uc3QgY29udGVudEtleSA9IFwiY29udGVudF9iZXN0YnV5XCI7IC8vIENvbnRlbnQgc2NyaXB0IGlkZW50aWZpZXJcclxuY29uc3QgbWVzc2FnZUhhbmRsZXJzID0ge1xyXG4gICAgXCJwcm9jZXNzLWF0Y1wiOiBwcm9jZXNzQWRkdG9DYXJ0LFxyXG59OyAvLyBNZXNzYWdlIGhhbmRsZXJzIGZvciBwcm9jZXNzaW5nIGZyb20gTWVzc2FnZXMgQVBJXHJcbi8vIFNlbmQgYWRkLXRvLWNhcnQgcmVxdWVzdCwgb3B0aW9uYWxseSB3aXRoIChhc3N1bWluZyBwb3BwZWQpIHF1ZXVlIGRhdGFcclxuLy8gT25seSByZXR1cm4gc3VjY2VzcyAvIGZhaWx1cmUgLyBlcnJvciByZXN1bHRzLCBpZ25vcmUgbmV3IHF1ZXVlIGFuZCByZXNwb25zZSBjb250ZW50XHJcbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NBZGR0b0NhcnQoc2t1LCBhMmNUcmFuc2FjdGlvblJlZmVyZW5jZUlkLCBhMmNUcmFuc2FjdGlvbkNvZGUpIHtcclxuICAgIC8vIEluaXRpYWxpemUgaGVhZGVycyBhbmQgYWRkaXRpb25hbGx5IGFkZCBxdWV1ZSBkYXRhIGlmIGRlZmluZWRcclxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICAgXCJhY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgXCJhY2NlcHQtbGFuZ3VhZ2VcIjogXCJlbi1VUyxlbjtxPTAuOVwiLFxyXG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOFwiLFxyXG4gICAgICAgIFwic2VjLWNoLXVhXCI6IFwiXFxcIiBOb3Q7QSBCcmFuZFxcXCI7dj1cXFwiOTlcXFwiLCBcXFwiR29vZ2xlIENocm9tZVxcXCI7dj1cXFwiOTFcXFwiLCBcXFwiQ2hyb21pdW1cXFwiO3Y9XFxcIjkxXFxcIlwiLFxyXG4gICAgICAgIFwic2VjLWNoLXVhLW1vYmlsZVwiOiBcIj8wXCIsXHJcbiAgICAgICAgXCJzZWMtZmV0Y2gtZGVzdFwiOiBcImVtcHR5XCIsXHJcbiAgICAgICAgXCJzZWMtZmV0Y2gtbW9kZVwiOiBcImNvcnNcIixcclxuICAgICAgICBcInNlYy1mZXRjaC1zaXRlXCI6IFwic2FtZS1vcmlnaW5cIlxyXG4gICAgfTtcclxuICAgIGlmIChhMmNUcmFuc2FjdGlvblJlZmVyZW5jZUlkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBoZWFkZXJzW1wiYTJjdHJhbnNhY3Rpb25yZWZlcmVuY2VpZFwiXSA9IGEyY1RyYW5zYWN0aW9uUmVmZXJlbmNlSWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoYTJjVHJhbnNhY3Rpb25Db2RlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBoZWFkZXJzW1wiYTJjdHJhbnNhY3Rpb25jb2RlXCJdID0gYTJjVHJhbnNhY3Rpb25Db2RlO1xyXG4gICAgfVxyXG4gICAgLy8gUHJvY2VzcyBhZGQtdG8tY2FydCByZXF1ZXN0IGFuZCBjaGVjayByZXNwb25zZSBzdGF0dXMgZm9yIHJlc3VsdFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vd3d3LmJlc3RidXkuY29tL2NhcnQvYXBpL3YxL2FkZFRvQ2FydFwiLCB7XHJcbiAgICAgICAgXCJoZWFkZXJzXCI6IGhlYWRlcnMsXHJcbiAgICAgICAgXCJyZWZlcnJlclwiOiBcImh0dHBzOi8vd3d3LmJlc3RidXkuY29tL2NhcnRcIixcclxuICAgICAgICBcInJlZmVycmVyUG9saWN5XCI6IFwic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpblwiLFxyXG4gICAgICAgIFwiYm9keVwiOiBge1wiaXRlbXNcIjpbe1wic2t1SWRcIjpcIiR7c2t1fVwifV19YCxcclxuICAgICAgICBcIm1ldGhvZFwiOiBcIlBPU1RcIixcclxuICAgICAgICBcIm1vZGVcIjogXCJjb3JzXCIsXHJcbiAgICAgICAgXCJjcmVkZW50aWFsc1wiOiBcImluY2x1ZGVcIixcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cztcclxufVxyXG4vLyBHZW5lcmFsIHN0YXJ0dXAgcm91dGluZSBmb3IgY29udGVudCBzY3JpcHRcclxuYXN5bmMgZnVuY3Rpb24gc3RhcnR1cCgpIHtcclxuICAgIC8vIC0gU2V0dXAgbWVzc2FnZSByZWNlaXZpbmcgaGFuZGxlcnMgYW5kIHNlbmRpbmcgd3JhcHBlclxyXG4gICAgbWVzc2FnZVByb2Nlc3NIYW5kbGVycyhjb250ZW50S2V5LCBtZXNzYWdlSGFuZGxlcnMsIFtcImJhY2tncm91bmRcIiwgXCJleHRlbnNpb25cIl0pO1xyXG4gICAgZXh0ZW5zaW9uTG9nKGNvbnRlbnRLZXksIFwiRmluaXNoZWQgcHJvY2Vzc2luZyBjb250ZW50IHNjcmlwdCBzdGFydHVwIHJvdXRpbmVcIik7XHJcbn1cclxuLy8gQ29udGVudCBzY3JpcHQgcnVudGltZSBwcm9jZXNzaW5nIG9uLWxvYWRcclxuYXN5bmMgZnVuY3Rpb24gcnVudGltZSgpIHtcclxuICAgIC8vIFNlbmQgdXBkYXRlZCByYXcgcXVldWUgaW5mbyB0byBiYWNrZ3JvdW5kXHJcbiAgICAvLyBDYW4ndCBpbnRlcmNlcHQgcmVxdWVzdHMsIGluc3RlYWQgaW50ZXJjZXB0IGRhdGEgbWFudWFsbHk/XHJcbiAgICBjb25zdCBzZXJpYWxpemVkUXVldWVEYXRhID0gYXRvYihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInB1cmNoYXNlVHJhY2tlclwiKSB8fCBcImUzMD1cIik7XHJcbiAgICBjb25zdCBxdWV1ZURhdGEgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWRRdWV1ZURhdGEpO1xyXG4gICAgc2VuZE1lc3NhZ2VUb0JhY2tncm91bmQoXCJjb250ZW50X2Jlc3QtYnV5XCIsIFwibWVyZ2UtYmVzdGJ1eS1wcm9kdWN0X3F1ZXVlc1wiLCBbcXVldWVEYXRhXSk7IC8vIFRocm93IGFuZCBmb3JnZXRcclxufVxyXG5hd2FpdCBzdGFydHVwKCk7XHJcbmF3YWl0IHJ1bnRpbWUoKTtcclxuIiwiaW1wb3J0IHsgZ2V0LCB3cml0YWJsZSB9IGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3N0b3JlXCI7XHJcbi8vIFNvbWV3aGF0IGZhbmN5IGxvZ2dpbmcgZnJvbSBleHRlbnNpb24gYmFja2dyb3VuZFxyXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5zaW9uTG9nKHNlbmRlciwgbWVzc2FnZSwgbGV2ZWwgPSBcImluZm9cIikge1xyXG4gICAgLy8gR2VuZXJhdGUgdGltZXN0bWFwIGZvciBsb2dnaW5nIGluIDI0LWhvdXIgSEg6TU06U1MgZm9ybWF0XHJcbiAgICBjb25zdCB0aW1lc3RhbXAgPSAobmV3IERhdGUoKSkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1HQicsIHtcclxuICAgICAgICBob3VyOiBcIjItZGlnaXRcIixcclxuICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxyXG4gICAgICAgIHNlY29uZDogXCIyLWRpZ2l0XCIsXHJcbiAgICB9KS5zdWJzdHJpbmcoMCwgOCk7XHJcbiAgICAvLyBMb2cgb3IgZXJyb3IgdG8gY29uc29sZSAoY3VycmVudGx5IHdpdGhvdXQgZm9ybWF0dGluZylcclxuICAgIGNvbnN0IG91dHB1dCA9IGBbJHt0aW1lc3RhbXB9XVxcdFxcdCgke3NlbmRlcn0pXFx0XFx0JHttZXNzYWdlfWA7XHJcbiAgICBpZiAobGV2ZWwgPT09IFwiaW5mb1wiKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cob3V0cHV0KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxldmVsID09PSBcImRlYnVnXCIpIHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKG91dHB1dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsZXZlbCA9PT0gXCJ3YXJuXCIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4ob3V0cHV0KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxldmVsID09PSBcImVycm9yXCIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKG91dHB1dCk7XHJcbiAgICB9XHJcbn1cclxuLy8gSW5pdGlhbGl6ZSB3cml0YWJsZSBzdG9yZSBmcm9tIFN0b3JhZ2UgQVBJIGFuZCBtYWludGFpbiB2YWx1ZSB1c2luZyBzdWJzY3JpcHRpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplU3RvcmUoc2VsZiwga2V5LCBkZWZhdWx0VmFsdWUpIHtcclxuICAgIC8vIEluaXRpYWxpemUgd3JpdGFibGUgc3RvcmUgZnJvbSBzdG9yYWdlIHZhbHVlXHJcbiAgICBjb25zdCBzdG9yYWdlVmFsdWUgPSBhd2FpdCBzdG9yYWdlR2V0KGtleSwgZGVmYXVsdFZhbHVlKTtcclxuICAgIGNvbnN0IHN0b3JlID0gd3JpdGFibGUoc3RvcmFnZVZhbHVlKTtcclxuICAgIC8vIEluc3RhbnRpYXRlIHNldHRlciBhbmQgZ2V0dGVyIGZvciBicm9hZGNhc3RpbmcgdXBkYXRlc1xyXG4gICAgLy8gQXNzdW1lIHRoYXQgYm90aCBrZXkgYW5kIHZhbHVlIGFyZSBpbmRleGFibGUgYnkgc3RyaW5nXHJcbiAgICBjb25zdCBzZXQgPSAoc2V0S2V5LCBzZXRWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHN0b3JlLnVwZGF0ZSh2YWx1ZSA9PiB7IHZhbHVlW3NldEtleV0gPSBzZXRWYWx1ZTsgcmV0dXJuIHZhbHVlOyB9KTtcclxuICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHsgW2tleV06IGdldChzdG9yZSkgfSk7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VUb0JhY2tncm91bmQoc2VsZiwgXCJ1cGRhdGUtc2V0XCIsIFtrZXksIHNldEtleSwgc2V0VmFsdWVdKTtcclxuICAgIH07IC8vIFNldHRlciB0byBicm9hZGNhc3Qga2V5IHNldCB1cGRhdGVcclxuICAgIGNvbnN0IGRlbCA9IChkZWxLZXkpID0+IHtcclxuICAgICAgICBzdG9yZS51cGRhdGUodmFsdWUgPT4geyBkZWxldGUgdmFsdWVbZGVsS2V5XTsgcmV0dXJuIHZhbHVlOyB9KTtcclxuICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHsgW2tleV06IGdldChzdG9yZSkgfSk7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VUb0JhY2tncm91bmQoc2VsZiwgXCJ1cGRhdGUtZGVsXCIsIFtrZXksIGRlbEtleV0pO1xyXG4gICAgfTsgLy8gRGVsZXRlciB0byBicm9hZGNhc3Qga2V5IGRlbGV0ZSB1cGRhdGVcclxuICAgIC8vIEF0dGFjaCBhZGRpdGlvbmFsIG1lc3NhZ2UgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciB1cGRhdGVzXHJcbiAgICBicm93c2VyLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGFzeW5jIChtZXNzYWdlLCBzZW5kZXIpID0+IHtcclxuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGtleSBtYXRjaGVzIGFuZCBwZXJmb3JtIHVwZGF0ZSBvciBkZWxldGlvblxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBtZXNzYWdlO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LmhhbmRsZXIgPT09IFwidXBkYXRlLXNldFwiKSB7XHJcbiAgICAgICAgICAgIC8vIERlY29uc3RydWN0IGFyZ3VtZW50cyBhbmQgc2V0L3JlcGxhY2Uga2V5IGluIHN0b3JlXHJcbiAgICAgICAgICAgIGNvbnN0IFtzdG9yZUtleSwgc2V0S2V5LCBzZXRWYWx1ZV0gPSByZXF1ZXN0LmFyZ3M7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZUtleSA9PT0ga2V5KSB7IC8vIEVuc3VyZSBrZXkgbWF0Y2hlcyBiZWZvcmUgc2V0dGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gRE8gTk9UIHVzZSBzZXR0ZXIsIG90aGVyd2lzZSB1cGRhdGUgYnJvYWRjYXN0cyBpbiBsb29wXHJcbiAgICAgICAgICAgICAgICBzdG9yZS51cGRhdGUodmFsdWUgPT4geyB2YWx1ZVtzZXRLZXldID0gc2V0VmFsdWU7IHJldHVybiB2YWx1ZTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5oYW5kbGVyID09PSBcInVwZGF0ZS1kZWxldGVcIikge1xyXG4gICAgICAgICAgICAvLyBEZWNvbnN0cnVjdCBhcmd1bWVudHMgYW5kIGRlbGV0ZSBrZXkgZnJvbSBzdG9yZVxyXG4gICAgICAgICAgICBjb25zdCBbc3RvcmVLZXksIGRlbEtleV0gPSByZXF1ZXN0LmFyZ3M7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZUtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBETyBOT1QgdXNlIGRlbGV0ZXIsIG90aGVyd2lzZSB1cGRhdGUgYnJvYWRjYXN0cyBpbiBsb29wXHJcbiAgICAgICAgICAgICAgICBzdG9yZS51cGRhdGUodmFsdWUgPT4geyBkZWxldGUgdmFsdWVbZGVsS2V5XTsgcmV0dXJuIHZhbHVlOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHsgc3RvcmUsIHNldCwgZGVsIH07XHJcbn1cclxuLy8gSW5pdGlhbGl6ZXMgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIGNvbnRlbnQgc2NyaXB0IHdpdGgga2V5IGFuZCBwYXJhbXNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlVG9CYWNrZ3JvdW5kKHNlbGYsIGhhbmRsZXIsIGFyZ3MgPSBbXSkge1xyXG4gICAgLy8gQ29uc3RydWN0IHJlcXVlc3QgZnJvbSBwYXJhbWV0ZXJzXHJcbiAgICBjb25zdCByZXF1ZXN0ID0ge1xyXG4gICAgICAgIHNlbmRlcjogc2VsZixcclxuICAgICAgICBoYW5kbGVyLCBhcmdzLFxyXG4gICAgfTtcclxuICAgIC8vIFNlbmQgbWVzc2FnZSBhbmQgd2FpdCBmb3IgcmVzcG9uc2VcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHJlcXVlc3QpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG59XHJcbjtcclxuLy8gSW5pdGlhbGl6ZXMgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIGJhY2tncm91bmQgb3IgZXh0ZW5zaW9uIHdpdGgga2V5IGFuZCBwYXJhbXNcclxuLy8gTXVzdCB0YXJnZXQgaW5kaXZpZHVhbCB0YWJzIGJ5IGdsb2IsIHRodXMgb25seSBzZW5kcyB0byB0aGUgZmlyc3QgdGFiIG1hdGNoZWRcclxuY29uc3QgZG9tYWluTWF0Y2hlcyA9IHtcclxuICAgIFwiYmVzdGJ1eVwiOiBcImh0dHBzOi8vKi5iZXN0YnV5LmNvbS8qXCIsXHJcbn07IC8vIERvbWFpbiBtYXRjaGVzIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGZyb20gYmFja2dyb3VuZCBvciBleHRlbnNpb25cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlVG9Db250ZW50KHNlbGYsIHRhcmdldCwgaGFuZGxlciwgYXJncyA9IFtdKSB7XHJcbiAgICAvLyBDb25zdHJ1Y3QgcmVxdWVzdCBmcm9tIHBhcmFtZXRlcnNcclxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgICAgICAgc2VuZGVyOiBzZWxmLFxyXG4gICAgICAgIGhhbmRsZXIsIGFyZ3MsXHJcbiAgICB9O1xyXG4gICAgLy8gQXNzdW1lIHRoYXQgdGFiIGFsd2F5cyBmb3VuZCwgaGF2ZSBmYWlsc2FmZT9cclxuICAgIGxldCByZXNwb25zZSA9IHtcclxuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcclxuICAgICAgICBwYXlsb2FkOiBcInRhYiBub3QgZm91bmQgKHNob3VsZG4ndCBoYXBwZW4pXCIsXHJcbiAgICB9OyAvLyBEZWZhdWx0IHJlc3BvbnNlLCBvdmVyd3JpdHRlbiBpZiB0YWIgZm91bmRcclxuICAgIGNvbnN0IHRhYnMgPSBhd2FpdCBicm93c2VyLnRhYnMucXVlcnkoe1xyXG4gICAgICAgIHVybDogZG9tYWluTWF0Y2hlc1t0YXJnZXRdLFxyXG4gICAgICAgIGRpc2NhcmRlZDogZmFsc2UsXHJcbiAgICAgICAgc3RhdHVzOiBcImNvbXBsZXRlXCIsXHJcbiAgICB9KTsgLy8gTWlnaHQgY2F1c2UgaXNzdWVzIHdpdGggZGlzY2FyZGVkIHRhYnM/XHJcbiAgICBpZiAodGFicy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gT25seSBwcm9jZXNzIG9uIGZpcnN0IGNvbnRlbnQgc2NyaXB0LCBhc3N1bWUgdGFiIElEIGRlZmluZWRcclxuICAgICAgICByZXNwb25zZSA9IGF3YWl0IGJyb3dzZXIudGFicy5zZW5kTWVzc2FnZSh0YWJzWzBdLmlkLCByZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXNwb25zZTtcclxufVxyXG47XHJcbi8vIEluaXRpYWxpemVzIG1lc3NhZ2UgcmVjZWl2aW5nIGZvciBnaXZlbiBjb250ZW50IHNjcmlwdCB3aXRoIGtleSBhbmQgaGFuZGxlcnNcclxuZXhwb3J0IGZ1bmN0aW9uIG1lc3NhZ2VQcm9jZXNzSGFuZGxlcnMoY29udGVudEtleSwgaGFuZGxlcnMsIHZhbGlkU2VuZGVycykge1xyXG4gICAgLy8gU2V0dXAgbGlzdGVuZXIgZm9yIHNub29waW5nIG1lc3NhZ2VzIGFuZCBleGVjdXRpbmcgbWF0Y2hpbmcgaGFuZGxlcnNcclxuICAgIGJyb3dzZXIucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoYXN5bmMgKG1lc3NhZ2UsIHNlbmRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBtZXNzYWdlO1xyXG4gICAgICAgIGxldCByZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICAgICAgcGF5bG9hZDogdW5kZWZpbmVkXHJcbiAgICAgICAgfTsgLy8gUGxhY2Vob2xkZXIgcmVzcG9uc2UgYmVmb3JlIGNvbnN0cnVjdGlvblxyXG4gICAgICAgIC8vIE9ubHkgcHJvY2VzcyBpbmNvbWluZyBtZXNzYWdlcyBmcm9tIHZhbGlkIHNlbmRlcnNcclxuICAgICAgICBpZiAodmFsaWRTZW5kZXJzLmluY2x1ZGVzKHJlcXVlc3Quc2VuZGVyKSkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGhhbmRsZXIgZXhpc3RzLCBtZXNzYWdlcyBhcmUgdGFyZ2V0ZWRcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW3JlcXVlc3QuaGFuZGxlcl07XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbkxvZyhjb250ZW50S2V5LCBgUHJvY2Vzc2luZyBoYW5kbGVyICR7cmVxdWVzdC5oYW5kbGVyfSBmcm9tICR7cmVxdWVzdC5zZW5kZXJ9IHdpdGggYXJndW1lbnRzICR7SlNPTi5zdHJpbmdpZnkocmVxdWVzdC5hcmdzKX1gKTtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZXIgZXhpc3RzLCBhdHRlbXB0IHRvIGV4ZWN1dGVcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlciguLi5yZXF1ZXN0LmFyZ3MgfHwgW10pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyA9IFwic3VjY2Vzc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnBheWxvYWQgPSByZXN1bHQ7IC8vIE5vbi1zZXJpYWxpemVkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyA9IFwiZXJyb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5wYXlsb2FkID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbkxvZyhjb250ZW50S2V5LCBgRXJyb3IgcHJvY2Vzc2luZyBoYW5kbGVyICR7cmVxdWVzdC5oYW5kbGVyfTogJHtlcnJvck1lc3NhZ2V9YCwgXCJlcnJvclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9KTtcclxufVxyXG4vLyBSZXRyaWV2ZSB2YWx1ZSB3aXRoIGdpdmVuIGtleSBmcm9tIFN0b3JhZ2UgQVBJXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdG9yYWdlR2V0KGtleSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAvLyBSZXRyaWV2ZSBmcm9tIHN0b3JhZ2UgYW5kIFwib3ZlcndyaXRlXCIgd2l0aCBkZWZhdWx0IGlmIG5vdCBmb3VuZFxyXG4gICAgY29uc3Qgc3RvcmFnZUNvbnRlbnQgPSBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KGtleSk7XHJcbiAgICBpZiAoc3RvcmFnZUNvbnRlbnRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3RvcmFnZUNvbnRlbnRba2V5XSA9IGRlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdG9yYWdlQ29udGVudFtrZXldO1xyXG59XHJcbi8vIFN0b3JlIHdpdGggdGhlIGdpdmVuIGtleSB0aGUgdmFsdWUgdGhyb3VnaCB0aGUgU3RvcmFnZSBBUElcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JhZ2VTZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgLy8gU3RvcmUgdXNpbmcgdGhlIGdpdmVuIGtleSBhbmQgdmFsdWVcclxuICAgIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoeyBba2V5XTogdmFsdWUgfSk7XHJcbn1cclxuLy8gT3BlbnMgVVJMIGluc3RlYWQgb2YgdXNpbmcgaHJlZiBhdHRyaWJ1dGUgZm9yIGFuY2hvclxyXG5leHBvcnQgZnVuY3Rpb24gb3BlblBhZ2UodXJsLCBhY3RpdmUgPSBmYWxzZSkge1xyXG4gICAgYnJvd3Nlci50YWJzLmNyZWF0ZSh7XHJcbiAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgYWN0aXZlOiBhY3RpdmUsXHJcbiAgICB9KTtcclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18uaiA9IDk7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkc1tpXV0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtha2l0b3NfYXV0b21hdGVkX3V0aWxpdGllc1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtha2l0b3NfYXV0b21hdGVkX3V0aWxpdGllc1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzE1NF0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDY2MSkpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJ3ZWJwYWNrVGhlbiIsIndlYnBhY2tFeHBvcnRzIiwiY29tcGxldGVRdWV1ZSIsImNvbXBsZXRlRnVuY3Rpb24iLCJxdWV1ZUZ1bmN0aW9uIiwiZGVmZXJyZWQiLCJjb250ZW50S2V5IiwibWVzc2FnZUhhbmRsZXJzIiwiYXN5bmMiLCJza3UiLCJhMmNUcmFuc2FjdGlvblJlZmVyZW5jZUlkIiwiYTJjVHJhbnNhY3Rpb25Db2RlIiwiaGVhZGVycyIsInVuZGVmaW5lZCIsImZldGNoIiwic3RhdHVzIiwic3RhcnR1cCIsInNlcmlhbGl6ZWRRdWV1ZURhdGEiLCJhdG9iIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInF1ZXVlRGF0YSIsIkpTT04iLCJwYXJzZSIsInJ1bnRpbWUiLCJleHRlbnNpb25Mb2ciLCJzZW5kZXIiLCJtZXNzYWdlIiwibGV2ZWwiLCJvdXRwdXQiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsInN1YnN0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJkZWJ1ZyIsIndhcm4iLCJlcnJvciIsInNlbmRNZXNzYWdlVG9CYWNrZ3JvdW5kIiwic2VsZiIsImhhbmRsZXIiLCJhcmdzIiwicmVxdWVzdCIsImJyb3dzZXIiLCJzZW5kTWVzc2FnZSIsIm1lc3NhZ2VQcm9jZXNzSGFuZGxlcnMiLCJoYW5kbGVycyIsInZhbGlkU2VuZGVycyIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwicmVzcG9uc2UiLCJwYXlsb2FkIiwiaW5jbHVkZXMiLCJzdHJpbmdpZnkiLCJyZXN1bHQiLCJlcnJvck1lc3NhZ2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJTeW1ib2wiLCJxdWV1ZSIsImZvckVhY2giLCJmbiIsInIiLCJwdXNoIiwiYSIsImJvZHkiLCJoYXNBd2FpdCIsImN1cnJlbnREZXBzIiwib3V0ZXJSZXNvbHZlIiwicmVqZWN0IiwiaXNFdmFsdWF0aW5nIiwibmVzdGVkIiwid2hlbkFsbCIsImRlcHMiLCJvblJlc29sdmUiLCJvblJlamVjdCIsImxlbmd0aCIsIm1hcCIsImRlcCIsImkiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWoiLCJyZWplY3RGbiIsImNhdGNoIiwidGhlbiIsIm9iaiIsInJldCIsIndyYXBEZXBzIiwiZCIsIk8iLCJjaHVua0lkcyIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJkYXRhIiwibW9yZU1vZHVsZXMiLCJzb21lIiwiaWQiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJiaW5kIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=