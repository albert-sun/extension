(()=>{"use strict";var e,t={344:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(234),i=a(655),s=a(568);function r(e){const t=e.split("-"),a=t.map((e=>parseInt(e,16)));return 1e3*parseInt(t[2]+t[3],16)/a[1]}function n(e,t=!1){let a=!1;e<0&&(e*=-1,a=!0);const o=e/1e3;let i=Math.floor(o/60),s=o%60;return!0===t&&(i=Math.floor(i),s=Math.floor(s)),[i,s,a]}var d=a(261);(0,d.fZ)([]);const c={global:{display:"Global Settings",description:"Note that pop-up notifications can obscure the screen and forcefully change window focus when clicked - don't enable notifications if you're playing games!",settings:{autoOpenTab:{display:"Automatically open tab when script not detected",default:!0},notificationError:{display:"Show desktop notification on extension error",default:!0}}},bestbuy:{display:"Best Buy Settings",description:"Note that pop-up notifications can obscure the screen and forcefully change window focus when clicked - don't enable notifications if you're playing games!",settings:{autoAddQueue:{display:"Automatically process queue add-to-cart when popped",default:!0},autoReload:{display:"Automatically reload tab on possible rate-limiting",default:!0},replaceQueue:{display:"Replace queues with shortest instead of appending",default:!0},requeueSuccess:{display:"Re-queue with response headers on successful cart",default:!0},notificationSuccess:{display:"Show desktop notification on successful cart",default:!0},notificationFailure:{display:"Show desktop notification on failed cart",default:!0},notificationQueue:{display:"Show desktop notification on queue interception",default:!0},notificationRateLimit:{display:"Show desktop notification on potential rate-limiting",default:!0}}}},u=Object.entries({"gtx-16":{display:"[Graphics] GeForce GTX 16-Series",items:[{display:"ASUS GeForce GTX 1660 SUPER TUF GAMING OC",data:"6405063"},{display:"EVGA GeForce GTX 1650 SUPER SC ULTRA GAMING",data:"6412939"},{display:"EVGA GeForce GTX 1660Ti SC ULTRA GAMING",data:"6373500"},{display:"MSI GeForce GTX 1650 SUPER GAMING X",data:"6397798"},{display:"MSI GeForce GTX 1660 SUPER GAMING X",data:"6389333"},{display:"MSI GeForce GTX 1660Ti GAMING X",data:"6330461"},{display:"PNY GeForce GTX 1650 SUPER XLR8 GAMING OC",data:"6407305"},{display:"PNY GeForce GTX 1660 SUPER XLR8 GAMING OC",data:"6407309"}]},"rtx-3060":{display:"[Graphics] GeForce RTX 3060",items:[{display:"ASUS GeForce RTX 3060 STRIX",data:"6460665"},{display:"ASUS GeForce RTX 3060 STRIX (LHR)",data:"6475224"},{display:"ASUS GeForce RTX 3060 TUF GAMING",data:"6460666"},{display:"ASUS GeForce RTX 3060 TUF GAMING (LHR)",data:"6475223"},{display:"EVGA GeForce RTX 3060 XC GAMING (KB)",data:"6454329"},{display:"EVGA GeForce RTX 3060 XC GAMING (KR)",data:"6454328"},{display:"GIGABYTE GeForce RTX 3060 AORUS ELITE",data:"6468910"},{display:"GIGABYTE GeForce RTX 3060 EAGLE OC",data:"6454689"},{display:"GIGABYTE GeForce RTX 3060 EAGLE OC (LHR)",data:"6468928"},{display:"GIGABYTE GeForce RTX 3060 GAMING OC",data:"6454688"},{display:"GIGABYTE GeForce RTX 3060 GAMING OC (LHR)",data:"6468931"},{display:"GIGABYTE GeForce RTX 3060 VISION OC",data:"6468925"},{display:"MSI GeForce RTX 3060 GAMING X OC",data:"6476229"},{display:"MSI GeForce RTX 3060 VENTUS 2X OC",data:"6462173"},{display:"MSI GeForce RTX 3060 VENTUS 3X OC",data:"6452940"},{display:"PNY GeForce RTX 3060 XLR8 GAMING REVEL EPIC-X",data:"6454318"}]},"rtx-3060ti":{display:"[Graphics] GeForce RTX 3060Ti",items:[{display:"ASUS GeForce RTX 3060Ti TUF GAMING",data:"6475237"},{display:"ASUS GeForce RTX 3060Ti TUF GAMING",data:"6452573"},{display:"EVGA GeForce RTX 3060Ti FTW3 GAMING (KB)",data:"6444444"},{display:"EVGA GeForce RTX 3060Ti FTW3 GAMING (KH, LHR)",data:"6479524"},{display:"GIGABYTE GeForce RTX 3060Ti AORUS EAGLE (LHR)",data:"6479686"},{display:"GIGABYTE GeForce RTX 3060Ti EAGLE OC",data:"6442485"},{display:"GIGABYTE GeForce RTX 3060Ti EAGLE OC (LHR)",data:"6471951"},{display:"GIGABYTE GeForce RTX 3060Ti GAMING OC",data:"6471952"},{display:"GIGABYTE GeForce RTX 3060Ti GAMING OC (LHR)",data:"6479688"},{display:"GIGABYTE GeForce RTX 3060Ti GAMING OC (LHR V2)",data:"6442484"},{display:"MSI GeForce RTX 3060Ti GAMING X",data:"6480291"},{display:"MSI GeForce RTX 3060Ti GAMING Z",data:"6476230"},{display:"MSI GeForce RTX 3060Ti VENTUS 2X OC",data:"6441172"},{display:"MSI GeForce RTX 3060Ti VENTUS 2X OC (LHR)",data:"6471286"},{display:"MSI GeForce RTX 3060Ti VENTUS 3X OC",data:"6480307"},{display:"NVIDIA GeForce RTX 3060Ti FOUNDERS",data:"6439402"}]},"rtx-3070":{display:"[Graphics] GeForce RTX 3070",items:[{display:"ASUS GeForce RTX 3070 STRIX",data:"6439127"},{display:"ASUS GeForce RTX 3070 STRIX (LHR)",data:"6475228"},{display:"ASUS GeForce RTX 3070 TUF GAMING",data:"6439128"},{display:"ASUS GeForce RTX 3070 TUF GAMING (LHR)",data:"6475226"},{display:"EVGA GeForce RTX 3070 XC3 ULTRA GAMING (KL, LHR)",data:"6479528"},{display:"EVGA GeForce RTX 3070 XC3 ULTRA GAMING (KH, LHR)",data:"6477077"},{display:"EVGA GeForce RTX 3070 XC3 ULTRA GAMING (KB)",data:"6439299"},{display:"GIGABYTE GeForce RTX 3070 AORUS MASTER",data:"6439384"},{display:"GIGABYTE GeForce RTX 3070 AORUS MASTER (LHR)",data:"6479685"},{display:"GIGABYTE GeForce RTX 3070 EAGLE",data:"6437912"},{display:"GIGABYTE GeForce RTX 3070 EAGLE OC (LHR)",data:"6471958"},{display:"GIGABYTE GeForce RTX 3070 GAMING OC",data:"6437909"},{display:"GIGABYTE GeForce RTX 3070 VISION OC",data:"6439385"},{display:"MSI GeForce RTX 3070 GAMING Z TRIO",data:"6471285"},{display:"MSI GeForce RTX 3070 VENTUS 2X OC",data:"6462266"},{display:"MSI GeForce RTX 3070 VENTUS 2X OC (LHR)",data:"6480308"},{display:"MSI GeForce RTX 3070 VENTUS 3X OC",data:"6438278"},{display:"MSI GeForce RTX 3070 GAMING X TRIO",data:"6438279"},{display:"NVIDIA GeForce RTX 3070 FOUNDERS",data:"6429442"}]},"rtx-3070ti":{display:"[Graphics] GeForce RTX 3070Ti",items:[{display:"ASUS GeForce RTX 3070Ti STRIX",data:"6467838"},{display:"ASUS GeForce RTX 3070Ti TUF GAMING",data:"6467840"},{display:"GIGABYTE GeForce RTX 3070Ti AORUS MASTER",data:"6467788"},{display:"GIGABYTE GeForce RTX 3070Ti GAMING OC",data:"6467779"},{display:"GIGABYTE GeForce RTX 3070Ti EAGLE",data:"6467782"},{display:"GIGABYTE GeForce RTX 3070Ti EAGLE OC",data:"6467781"},{display:"GIGABYTE GeForce RTX 3070Ti VISION OC",data:"6467785"},{display:"MSI GeForce RTX 3070Ti GAMING X TRIO",data:"6467497"},{display:"MSI GeForce RTX 3070Ti VENTUS 3X OC",data:"6467500"},{display:"NVIDIA GeForce RTX 3070Ti FOUNDERS",data:"6465789"}]},"rtx-3080":{display:"[Graphics] GeForce RTX 3080",items:[{display:"ASUS GeForce RTX 3080 STRIX",data:"6432445"},{display:"ASUS GeForce RTX 3080 STRIX (LHR)",data:"6475238"},{display:"EVGA GeForce RTX 3080 XC3 ULTRA GAMING (KB)",data:"6432400"},{display:"EVGA GeForce RTX 3080 XC3 ULTRA GAMING (KH, LHR)",data:"6471615"},{display:"GIGABYTE GeForce RTX 3080 AORUS MASTER (LHR)",data:"6462198"},{display:"GIGABYTE GeForce RTX 3080 AORUS XTREME",data:"6436223"},{display:"GIGABYTE GeForce RTX 3080 AORUS XTREME (LHR)",data:"6471954"},{display:"GIGABYTE GeForce RTX 3080 EAGLE OC",data:"6430621"},{display:"GIGABYTE GeForce RTX 3080 GAMING OC",data:"6430620"},{display:"GIGABYTE GeForce RTX 3080 GAMING OC (LHR)",data:"6471960"},{display:"GIGABYTE GeForce RTX 3080 VISION OC",data:"6436219"},{display:"GIGABYTE GeForce RTX 3080 VISION OC (LHR)",data:"6471957"},{display:"MSI GeForce RTX 3080 GAMING Z TRIO",data:"6480289"},{display:"MSI GeForce RTX 3080 VENTUS 3X (LHR)",data:"6471287"},{display:"MSI GeForce RTX 3080 VENTUS 3X OC",data:"6430175"},{display:"MSI GeForce RTX 3080 VENTUS 3X PLUS (LHR)",data:"6480306"},{display:"NVIDIA GeForce RTX 3080 FOUNDERS",data:"6429440"}]},"rtx-3080ti":{display:"[Graphics] GeForce RTX 3080Ti",items:[{display:"ASUS GeForce RTX 3080Ti STRIX",data:"6466931"},{display:"ASUS GeForce RTX 3080Ti TUF GAMING",data:"6466932"},{display:"EVGA GeForce RTX 3080Ti FTW3 ULTRA GAMING (KB)",data:"6467808"},{display:"GIGABYTE GeForce RTX 3080Ti AORUS MASTER",data:"6468932"},{display:"GIGABYTE GeForce RTX 3080Ti AORUS XTREME",data:"6468933"},{display:"GIGABYTE GeForce RTX 3080Ti GAMING OC",data:"6466561"},{display:"GIGABYTE GeForce RTX 3080Ti VISION OC",data:"6466564"},{display:"MSI GeForce RTX 3080Ti GAMING X TRIO",data:"6465803"},{display:"MSI GeForce RTX 3080Ti VENTUS 3X OC",data:"6472637"},{display:"NVIDIA GeForce RTX 3080Ti FOUNDERS",data:"6462956"},{display:"PNY GeForce RTX 3080Ti XLR8 GAMING REVEL EPIC-X",data:"6467289"}]},"rtx-3090":{display:"[Graphics] GeForce RTX 3090",items:[{display:"ASUS GeForce RTX 3090 STRIX",data:"6432447"},{display:"ASUS GeForce RTX 3090 TUF GAMING",data:"6432446"},{display:"EVGA GeForce RTX 3090 XC3 ULTRA GAMING (KB)",data:"6434198"},{display:"GIGABYTE GeForce RTX 3090 AORUS MASTER",data:"6437910"},{display:"GIGABYTE GeForce RTX 3090 EAGLE OC",data:"6430624"},{display:"GIGABYTE GeForce RTX 3090 GAMING OC",data:"6430623"},{display:"GIGABYTE GeForce RTX 3090 VISION OC",data:"6445108"},{display:"MSI GeForce RTX 3090 GAMING X TRIO",data:"6468863"},{display:"MSI GeForce RTX 3090 VENTUS 3X OC",data:"SKU: 6472646"},{display:"MSI GeForce RTX 3090 VENTUS 3X OC (?)",data:"6430215"},{display:"NVIDIA GeForce RTX 3090 FOUNDERS",data:"6429434"}]}}).reduce(((e,[t,a])=>Object.assign(Object.assign({},e),Object.entries(a.items).reduce(((e,[t,a])=>(e[a.data]=a.display,e)),{}))),{}),l={handler:"ping",args:[]};function G(e,t,a="info"){const o=`[${(new Date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).substring(0,8)}]\t\t(${e})\t\t${t}`;"info"===a?console.log(o):"debug"===a?console.debug(o):"warn"===a?console.warn(o):"error"===a&&console.error(o)}async function p(e,t){const a=await async function(e,t){const a=await browser.storage.local.get(e);return void 0===a[e]&&(a[e]=t),a[e]}(e,t),o=(0,d.fZ)(a);return browser.runtime.onMessage.addListener((async(t,a)=>{const i=t;if("update-set"===i.handler){const[t,a,s]=i.args;t===e&&o.update((e=>(e[a]=s,e)))}else if("update-delete"===i.handler){const[t,a]=i.args;t===e&&o.update((e=>(delete e[a],e)))}})),{store:o,set:(t,a)=>{o.update((e=>(e[t]=a,e))),browser.storage.local.set({[e]:(0,d.U2)(o)}),T("update-set",[e,t,a])},del:t=>{o.update((e=>(delete e[t],e))),browser.storage.local.set({[e]:(0,d.U2)(o)}),T("update-del",[e,t])}}}async function T(e,t=[]){const a={handler:e,args:t},o=await async function(e){return await new Promise((t=>{browser.runtime.sendMessage(e).then((e=>t(e))).catch((e=>t(e.message)))}))}(a);return o}const y={bestbuy:"https://*.bestbuy.com/*"};function R(e,t,a){browser.runtime.onMessage.addListener((async(a,o)=>{const i=a;let s={result:"success",payload:{value:void 0}};const r=t[i.handler];if(void 0!==r){G(e,`Processing handler ${i.handler} with arguments ${JSON.stringify(i.args)}`);try{const e=await r(...i.args||[]);s.result="okay",s.payload=e}catch(t){const a=t.message;s.result="error",s.payload.value=a,G(e,`Error processing handler ${i.handler}: ${a}`,"error")}}return s}))}function f(e){return new Promise((t=>setTimeout(t,e)))}a(434),a(374),e=a.hmd(e);const{Error:I,Object:b}=o.lig;function A(e){const t={c:o.ZTd,l:function(e){throw new I("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:o.ZTd,p:o.ZTd,i:o.ZTd,o:o.ZTd,d:o.ZTd};return(0,o.YyZ)("SvelteRegisterBlock",{block:t,id:A.name,type:"component",source:"",ctx:e}),t}const S="background",g="background-bestbuy",X="https://www.bestbuy.com/cart",h="https://www.bestbuy.com/";function F(e,t,a){let d,T,I=o.ZTd,A=()=>(I(),I=(0,o.LdU)(m,(e=>a(6,d=e))),m),F=o.ZTd,E=()=>(F(),F=(0,o.LdU)(M,(e=>a(7,T=e))),M);e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>F()));let m,O,M,w,{$$slots:N={},$$scope:v}=t;(0,o.KXV)("Background",N,[]);const U=[];let C,B=!1;function L(e,t,a,o,s){return(0,i.mG)(this,void 0,void 0,(function*(){let i;return!0===T[o[0]][o[1]]&&(i=yield new Promise((e=>{chrome.notifications.create({type:"basic",title:t,message:a,iconUrl:"../resources/icon_512_dark.png",buttons:null==s?void 0:s.map((e=>({title:e})))},(function(t){e(t)}))}))),C[e].play(),i}))}function q(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){return yield new Promise((a=>{browser.tabs.sendMessage(e,t).then((e=>a(e))).catch((e=>a(e.message)))}))}))}function $(e,t=!0){return(0,i.mG)(this,void 0,void 0,(function*(){for(;!0===t&&"string"==typeof(yield q(e,l));)yield f(T.global.pollingInterval)}))}function k(){return(0,i.mG)(this,void 0,void 0,(function*(){if(!0!==B){for(B=!0;U.length>0;){const e=U.shift(),t={status:"not-found",payload:void 0},a=JSON.stringify(e);G(S,`Executing queued request with body ${a}`);const o=y[null==e?void 0:e.urlMatch],i=yield browser.tabs.query({url:y[null==e?void 0:e.urlMatch],discarded:!1});0===i.length&&(G(S,`Couldn't find matching tabs with glob ${o}, placeholder resolving with undefined`),e.resolve(t));for(const a of i){G(S,`Attempting to ping tab with ID ${a.id} and URL ${a.url}`);const o=yield q(a.id,l);if("string"==typeof o){G(S,`Error pinging content script: ${o}`);continue}G(S,"Received successful ping response, broadcasting request");const i={handler:e.handler,args:e.args},s=yield q(a.id,i);if("string"==typeof s)throw new Error(`error communicating after ping: ${s}`);t.status="okay",t.payload=s,void 0!==s.payload.execute?(G(S,`Response received, performing execution handler ${s.payload.execute}`),"reload"===s.payload.execute&&(yield browser.tabs.reload(a.id),yield $(a.id))):G(S,"Response received, no execution handler necessary");break}const s=JSON.stringify(t);G(S,`Finished processing queued request, responding with body ${s}`),e.resolve(t)}B=!1}}))}function V(e){return(0,i.mG)(this,void 0,void 0,(function*(){return G(S,"Pushing request to back of queue for streamlined execution"),new Promise((t=>{const a=Object.assign(Object.assign({},e),{resolve:t});U.push(a),k()}))}))}function Y(e,t=!0){return(0,i.mG)(this,void 0,void 0,(function*(){const a=yield browser.tabs.create({active:!1,url:e});!0===t&&(yield $(a.id))}))}function H(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t=(new Date).getTime();for(const[a,o]of Object.entries(e))if(void 0===(d[a]||{})[o[1]]){const[e,i,s]=o,n=r(o[1]);if(e+n-t>-3e5){const t={startTime:e,a2cTransactionReferenceId:i,a2cTransactionCode:s,queueTime:n},o=d[a]||{};o[i]=t,O(a,o)}}}))}function x(e,t,a){const o=Object.entries(e).map((([e,t])=>[t.startTime+t.queueTime-a,e,t]));o.sort(((e,t)=>e[0]-t[0]));const i=o[0][0],s=t.a2cTransactionReferenceId,r=t.startTime+t.queueTime-a;o.push([r,s,t]),o.sort(((e,t)=>e[0]-t[0]));const[d,c,u]=n(i-r,!0),l=o[0][1]===t.a2cTransactionReferenceId;return(e={})[t.a2cTransactionReferenceId]=t,[l,d,c]}function j(e,t,a){return(0,i.mG)(this,void 0,void 0,(function*(){const o={urlMatch:"bestbuy",handler:"process-add_to_cart",args:[e,t,a]};let s,r,n,d,c;for(;;){let e=yield V(o);if("not-found"===e.status){if(!0===T.global.autoOpenTab){G(g,`Matching tab not found, creating new tab with url ${h}`),yield Y(h),G(g,"Tab creation finished, re-broadcasting initial request");continue}{G(g,"Matching tab not found, showing notification and exiting");const e="Best Buy - Tab Not Found",t="Matching tab not found or content script not responding. Open a matching tab or try reloading the page.",a=yield L("error",e,t,["global","notificationNotFound"]);return void 0!==a&&void 0!==a&&browser.notifications.onButtonClicked.addListener((function(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){0===t&&(yield Y(h,!1))}))})),!0}}s=e.payload;break}const l=u[e];return"okay"===s.result&&(200===s.payload.value?(G(g,`Successfully added ${l} to cart`),r="Best Buy - Successful Cart",n=l,d=["bestbuy","notificationSuccess"],c=["Open cart page"],void 0!==(yield L("success",r,n,d,c))&&browser.notifications.onButtonClicked.addListener((function(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){0===t&&(yield Y(X,!1))}))}))):400===s.payload.value?(G(g,`Failed to cart ${l}, either invaild queue or unavailable`),r="Best Buy - Failed to Cart",n=l,d=["bestbuy","notificationFailure"],yield L("failure",r,n,d)):(G(g,`Error carting ${l} with status ${status}`),r=`Best Buy - Error ${status}`,n=!0===T.bestbuy.autoReload?`Error carting ${l} - possible rate limiting, auto-reloading tab`:`Error carting ${l} - possible rate limiting, not auto-reloading tab`,d=["bestbuy","notificationError"],yield L("error",r,n,d))),!1}))}(0,s.H3)((function(){return(0,i.mG)(this,void 0,void 0,(function*(){C={success:new Audio("../resources/notification_success.mp3"),failure:new Audio("../resources/notification_queue.mp3"),queue:new Audio("../resources/notification_queue.mp3"),error:new Audio("../resources/notification_ratelimit.mp3")},E(a(1,({store:M,set:w}=yield p("settings",{})),M));for(const[e,t]of Object.entries(c)){const a=T[e];if(void 0!==T[e]){let o=!1;for(const[e,i]of Object.entries(t.settings)){const t=a[e];void 0!==t&&typeof t==typeof i||(a[e]=i.default,o=!0)}!0===o&&w(e,a)}else w(e,t)}A(a(0,({store:m,set:O}=yield p("queues",{})),m));let e=0;for(const[t,a]of Object.entries(d))e+=Object.keys(a).length;G(g,`Startup routine, retrieved and tracking ${e} existing queues from storage`);const t=new Set;setInterval((function(){return(0,i.mG)(this,void 0,void 0,(function*(){const e=(new Date).getTime();for(const[a,o]of Object.entries(d))for(const[i,s]of Object.entries(o)){const r=s.startTime+s.queueTime-e;r<=0&&(r>-3e5?!0===T.bestbuy.autoAddQueue&&!1===t.has(s.a2cTransactionReferenceId)?(G("background-bestbuy",`Queue popped for SKU ${a}, broadcasting add-to-cart request`),!0===(yield j(a,s.a2cTransactionReferenceId,s.a2cTransactionCode))&&t.add(s.a2cTransactionReferenceId)):G("background-bestbuy",`Queue popped for SKU ${a}, waiting for manual because of setting`):(G("background-bestbuy",`Queue popped but expired for ${a}, silently deleting`),t.delete(s.a2cTransactionReferenceId),delete o[i],O(a,o)))}}))}),1e3);const o={};chrome.webRequest.onBeforeRequest.addListener((function(e){if(void 0!==e.requestBody){const t=decodeURIComponent(String.fromCharCode.apply(null,new Uint8Array(e.requestBody.raw[0].bytes))),a=JSON.parse(t);o[e.requestId]=a;const i=a.items.map((e=>e.skuId)),s=JSON.stringify(i);G("background-bestbuy",`[webRequest.onBeforeRequest] Finished caching POST body for request ${e.requestId} with SKU(s) ${s}`,"debug")}}),{urls:["*://*.bestbuy.com/cart/api/v1/addToCart"]},["requestBody","blocking"]),chrome.webRequest.onBeforeSendHeaders.addListener((function(e){void 0!==o[e.requestId]||G("background-bestbuy",`[webRequest.onBeforeSendHeaders] Couldn't find cached POST body for request ${e.requestId}`,"error")}),{urls:["*://*.bestbuy.com/cart/api/v1/addToCart"]},["requestHeaders","blocking"]),chrome.webRequest.onHeadersReceived.addListener((function(e){var t;let a="",i="";for(const t of e.responseHeaders||[])"a2ctransactionreferenceid"===t.name?a=t.value:"a2ctransactioncode"===t.name&&(i=t.value);if((200!==e.statusCode||!0===T.bestbuy.requeueSuccess)&&""!==a&&""!==i){const s=o[e.requestId];if(void 0===s)return void G("background-bestbuy",`[webRequest.onHeadersReceived] Couldn't find cached POST body for request ${e.requestId}`,"error");const c=null===(t=s.items[0])||void 0===t?void 0:t.skuId,l=(new Date).getTime(),p=r(i),[y,R]=n(p),f={startTime:l,a2cTransactionReferenceId:a,a2cTransactionCode:i,queueTime:p};G("background-bestbuy",`[webRequest.onHeadersReceived] Queue response headers detected for request ${e.requestId} with time ${y}m ${R}s`);let I="";const b=u[c];let A=d[c]||{};if(!0===T.bestbuy.replaceQueue&&Object.keys(A).length>0){const[e,t,a]=x(A,f,l);I=!0===e?`[${b}] Queue replacement enabled, replacing with ${t}m ${a}s improvement`:`[${b}] Queue replacement enabled, not replacing because ${t}m ${a}s worse`}else I=`[${b}] Intercepted new queue with timer ${y}m ${R}s`,A[a]=f;O(c,A),L("queue","Best Buy - Queue Intercepted",I,["bestbuy","notificationQueue"])}delete o[e.requestId]}),{urls:["*://*.bestbuy.com/cart/api/v1/addToCart"]},["responseHeaders","blocking"]),R(S,{"add-request":V,"create-tab-ready":Y,"sound-notification":L,"get-bestbuy-product_queues"(){return(0,i.mG)(this,void 0,void 0,(function*(){return d}))},"merge-product_queues":H,"process-add_to_cart":j})}))}));const P=[];return b.keys(t).forEach((e=>{~P.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Background> was created with unknown prop '${e}'`)})),e.$capture_state=()=>({__awaiter:i.mG,onMount:s.H3,decodeQueue:r,minutesSeconds:n,bestBuyDisplays:u,settingLabels:c,pingRequest:l,domainMatches:y,extensionLog:G,initializeStore:p,messageProcessHandlers:R,sleep:f,queues:m,setQueues:O,settings:M,setSettings:w,backgroundSelf:S,queuedRequests:U,executing:B,notifications:C,bestBuySelf:g,bestBuyCartURL:X,bestBuyTabURL:h,soundNotification:L,sendMessageTab:q,pingTabReady:$,performStreamlinedRequests:k,addStreamlinedRequest:V,createTabReady:Y,mergeProductQueues:H,updateReplaceQueues:x,processAddToCart:j,$queues:d,$settings:T}),e.$inject_state=e=>{"queues"in e&&A(a(0,m=e.queues)),"setQueues"in e&&(O=e.setQueues),"settings"in e&&E(a(1,M=e.settings)),"setSettings"in e&&(w=e.setSettings),"executing"in e&&(B=e.executing),"notifications"in e&&(C=e.notifications)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[m,M]}class E extends o.Mjb{constructor(e){super(e),(0,o.S1n)(this,e,F,A,o.N8,{}),(0,o.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Background",options:e,id:A.name})}}e&&e.hot;const m=E},650:(e,t,a)=>{new(a(344).Z)({target:document.body,props:{}})}},a={};function o(e){var i=a[e];if(void 0!==i)return i.exports;var s=a[e]={id:e,loaded:!1,exports:{}};return t[e](s,s.exports,o),s.loaded=!0,s.exports}o.m=t,e=[],o.O=(t,a,i,s)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,i,s]=e[u],n=!0,d=0;d<a.length;d++)(!1&s||r>=s)&&Object.keys(o.O).every((e=>o.O[e](a[d])))?a.splice(d--,1):(n=!1,s<r&&(r=s));if(n){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,i,s]},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.j=979,(()=>{var e={979:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var i,s,[r,n,d]=a,c=0;if(r.some((t=>0!==e[t]))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(d)var u=d(o)}for(t&&t(a);c<r.length;c++)s=r[c],o.o(e,s)&&e[s]&&e[s][0](),e[r[c]]=0;return o.O(u)},a=self.webpackChunkakitos_automated_utilities=self.webpackChunkakitos_automated_utilities||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=o.O(void 0,[154],(()=>o(650)));i=o.O(i)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUt5QixHQUEwQyxJQUE3QkQsRUFBZ0JDLEdBR3hELElBQUlDLEVBQXVCLENBQUNDLEVBQTRCcEgsS0FDdkQsSUFHSXdFLEVBQVUwQyxHQUhUakMsRUFBVW9DLEVBQWFwRixHQUFXakMsRUFHaEJzRixFQUFJLEVBQzNCLEdBQUdMLEVBQVNxQyxNQUFNMUMsR0FBZ0MsSUFBeEJxQyxFQUFnQnJDLEtBQWEsQ0FDdEQsSUFBSUosS0FBWTZDLEVBQ1o5QyxFQUFvQnlCLEVBQUVxQixFQUFhN0MsS0FDckNELEVBQW9CUSxFQUFFUCxHQUFZNkMsRUFBWTdDLElBR2hELEdBQUd2QyxFQUFTLElBQUl5QixFQUFTekIsRUFBUXNDLEdBR2xDLElBREc2QyxHQUE0QkEsRUFBMkJwSCxHQUNyRHNGLEVBQUlMLEVBQVNNLE9BQVFELElBQ3pCNEIsRUFBVWpDLEVBQVNLLEdBQ2hCZixFQUFvQnlCLEVBQUVpQixFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JoQyxFQUFTSyxJQUFNLEVBRWhDLE9BQU9mLEVBQW9CUyxFQUFFdEIsSUFHMUI2RCxFQUFxQkMsS0FBNkMsdUNBQUlBLEtBQTZDLHdDQUFLLEdBQzVIRCxFQUFtQkUsUUFBUU4sRUFBcUJPLEtBQUssS0FBTSxJQUMzREgsRUFBbUJJLEtBQU9SLEVBQXFCTyxLQUFLLEtBQU1ILEVBQW1CSSxLQUFLRCxLQUFLSCxLLEdDN0N2RixJQUFJSyxFQUFzQnJELEVBQW9CUyxPQUFFbEQsRUFBVyxDQUFDLE1BQU0sSUFBT3lDLEVBQW9CLE9BQzdGcUQsRUFBc0JyRCxFQUFvQlMsRUFBRTRDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzLy4vc291cmNlL2V4dGVuc2lvbi91dGlsaXRpZXMudHMiLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvLi9zb3VyY2Uvc2hhcmVkL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy8uL3NvdXJjZS9zaGFyZWQvdHlwZXNfbmV3LnRzIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzLy4vc291cmNlL3NoYXJlZC91dGlsaXRpZXMudHMiLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvLi9zb3VyY2UvYmFja2dyb3VuZC9iYWNrZ3JvdW5kLnRzIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzL3dlYnBhY2svcnVudGltZS9oYXJtb255IG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vYWtpdG9zLWF1dG9tYXRlZC11dGlsaXRpZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9ha2l0b3MtYXV0b21hdGVkLXV0aWxpdGllcy93ZWJwYWNrL3J1bnRpbWUvcnVudGltZUlkIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2FraXRvcy1hdXRvbWF0ZWQtdXRpbGl0aWVzL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCIvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNDU1ODQ0Mi9pcy10aGVyZS1zb21ldGhpbmctbGlrZS1nbG9iLWJ1dC1mb3ItdXJscy1pbi1qYXZhc2NyaXB0XHJcbmV4cG9ydCBmdW5jdGlvbiB1cmxHbG9iKHBhdHRlcm4sIGlucHV0KSB7XHJcbiAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHBhdHRlcm4ucmVwbGFjZSgvKFsuPyteJFtcXF1cXFxcKCl7fXxcXC8tXSkvZywgXCJcXFxcJDFcIikucmVwbGFjZSgvXFwqL2csICcuKicpKTtcclxuICAgIHJldHVybiByZS50ZXN0KGlucHV0KTtcclxufVxyXG4vLyBEZWNvZGVzIHRoZSBxdWV1ZSBjb2RlIHRvIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVRdWV1ZShxdWV1ZUNvZGUpIHtcclxuICAgIGNvbnN0IHNwbGl0Q29kZSA9IHF1ZXVlQ29kZS5zcGxpdChcIi1cIik7XHJcbiAgICBjb25zdCBwYXJzZWRDb2RlID0gc3BsaXRDb2RlLm1hcChjaHVuayA9PiBwYXJzZUludChjaHVuaywgMTYpKTtcclxuICAgIC8vIGlmKHBhcnNlZENvZGVbMV0gKiBwYXJzZWRDb2RlWzJdICogcGFyc2VkQ29kZVszXSA9PT0gcGFyc2VkQ29kZVs0XSlcclxuICAgIGNvbnN0IHdhaXREdXJhdGlvbiA9IDEwMCAqIDEwICogcGFyc2VJbnQoc3BsaXRDb2RlWzJdICsgc3BsaXRDb2RlWzNdLCAxNikgLyBwYXJzZWRDb2RlWzFdO1xyXG4gICAgcmV0dXJuIHdhaXREdXJhdGlvbjtcclxufVxyXG4vLyBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgbWludXRlcyBhbmQgc2Vjb25kcyBmb3IgcXVldWVcclxuZXhwb3J0IGZ1bmN0aW9uIG1pbnV0ZXNTZWNvbmRzKHRvdGFsTWlsbGlTZWNvbmRzLCB0cnVuY2F0ZSA9IGZhbHNlKSB7XHJcbiAgICAvLyBCeXBhc3MgZnVuY3Rpb25hbGl0eSBmb3IgbmVnYXRpdmUgdGltZXNcclxuICAgIGxldCBuZWdhdGl2ZSA9IGZhbHNlO1xyXG4gICAgaWYgKHRvdGFsTWlsbGlTZWNvbmRzIDwgMCkge1xyXG4gICAgICAgIHRvdGFsTWlsbGlTZWNvbmRzID0gdG90YWxNaWxsaVNlY29uZHMgKiAtMTtcclxuICAgICAgICBuZWdhdGl2ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0b3RhbFNlY29uZHMgPSB0b3RhbE1pbGxpU2Vjb25kcyAvIDEwMDA7XHJcbiAgICBsZXQgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApO1xyXG4gICAgbGV0IHNlY29uZHMgPSB0b3RhbFNlY29uZHMgJSA2MDtcclxuICAgIC8vIFRydW5jYXRlIG51bWJlcnMgaWYgZGVzaXJlZFxyXG4gICAgaWYgKHRydW5jYXRlID09PSB0cnVlKSB7XHJcbiAgICAgICAgbWludXRlcyA9IE1hdGguZmxvb3IobWludXRlcyk7XHJcbiAgICAgICAgc2Vjb25kcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW21pbnV0ZXMsIHNlY29uZHMsIG5lZ2F0aXZlXTtcclxufVxyXG4iLCJpbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3N0b3JlXCI7XHJcbi8vIERlY2xhcmUgc2hhcmVkIHN0b3JlcywgTk9URSB0aGF0IHRoZXkgY2FuIG9ubHkgYmUgc2hhcmVkIHdpdGhpbiB0aGUgc2FtZSBjb250ZXh0IVxyXG5leHBvcnQgY29uc3QgdGFiVVJMcyA9IHdyaXRhYmxlKFtdKTsgLy8gdGFiIFVSTHMgc2hhcmVkIGJldHdlZW4gY29tcG9uZW50c1xyXG4vLyBBZ2dyZWdhdGUgc2VsZi1pZGVudGlmaWNhdGlvbiBrZXlzXHJcbmV4cG9ydCBjb25zdCBiYWNrZ3JvdW5kU2VsZiA9IFwiYmFja2dyb3VuZFwiO1xyXG5leHBvcnQgY29uc3QgY29udGVudFNlbGYgPSBcImNvbnRlbnRcIjtcclxuZXhwb3J0IGNvbnN0IGV4dGVuc2lvblNlbGYgPSBcImV4dGVuc2lvblwiO1xyXG4vLyBDaGFuZ2Vsb2cgZm9yIGRpc3BsYXkgcHVycG9zZXMsIG1vc3QgcmVjZW50IHRvIG9sZGVzdFxyXG5leHBvcnQgY29uc3QgY2hhbmdlbG9ncyA9IFtcclxuICAgIHtcclxuICAgICAgICBkaXNwbGF5OiBcIlZlcnNpb24gMS4xLjFcIixcclxuICAgICAgICBidWxsZXRzOiBbXHJcbiAgICAgICAgICAgIFwiRml4ZWQgY2hhbmdlbG9nIHNwYWNpbmcsIG5vb25lIHByb2JhYmx5IGV2ZW4gbm90aWNlZCB0aGUgaXNzdWUgdGhvdWdoXCIsXHJcbiAgICAgICAgXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBkaXNwbGF5OiBcIlZlcnNpb24gMS4xLjBcIixcclxuICAgICAgICBidWxsZXRzOiBbXHJcbiAgICAgICAgICAgIFwiRml4ZWQgZGVmYXVsdCBzZXR0aW5ncyBub3QgcHJvcGVybHkgYXBwbHlpbmcgYW5kIGluc3RlYWQgc2hvd2luZyAwL2ZhbHNlL1xcXCJcXFwiL2V0Yy5cIixcclxuICAgICAgICAgICAgXCJSZXdvcmtlZCBuYW1lcyBhbmQgZGVzY3JpcHRpb25zIGZvciBzb21lIHNldHRpbmdzLCBwbGVhc2UgZG91YmxlLWNoZWNrIHRvIGVuc3VyZSB0aGV5IGxvb2sgZ29vZFwiLFxyXG4gICAgICAgICAgICBcIkJlc3QgQnV5OiBSZW1vdmVkIGF1dG9tYXRpY2FsbHkgcmV0cnlpbmcgZmFpbGVkIGF1dG9tYXRpYyByZXF1ZXN0cywgc2hvdWxkIG1hbnVhbGx5IHBlcmZvcm0gaW5zdGVhZFwiLFxyXG4gICAgICAgICAgICBcIkJlc3QgQnV5OiBBZGRlZCBtYW55IENocm9tZSBub3RpZmljYXRpb25zIGFuZCBzb3VuZCBlZmZlY3RzIGZvciBldmVudHMgbGlrZSBmYWlsZWQgY2FydGluZywgcXVldWUgaW50ZXJjZXB0aW9uLCBhbmQgcmF0ZSBsaW1pdC4gTm90aWZpY2F0aW9uIHNvdW5kcyBzdWNrIHRob3VnaCwgcGxlYXNlIHNlbmQgbWUgcmVjb21tZW5kYXRpb25zIVwiLFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgZGlzcGxheTogXCJWZXJzaW9uIDEuMC4wIChJbml0aWFsIHJlLXJlbGVhc2UpXCIsXHJcbiAgICAgICAgYnVsbGV0czogW1xyXG4gICAgICAgICAgICBcIkNvbXBsZXRlbHkgcmUtZGV2ZWxvcGVkIHRoZSBleHRlbnNpb24gZnJvbSBzY3JhdGNoIHVzaW5nIFN2ZWx0ZVwiLFxyXG4gICAgICAgICAgICBcIk1hbmZpZXN0IHZlcnNpb24gZG93bmdyYWRlZCBmcm9tIFYzIHRvIFYyIGZvciBwZXJzaXN0ZW50IGJhY2tncm91bmQgcGFnZXNcIixcclxuICAgICAgICAgICAgXCJCZXN0IEJ1eTogQmFja2dyb3VuZCBzY3JpcHQgYXV0b21hdGljYWxseSBpbnRlcmNlcHRzIGFuZCB0cmFja3MgcXVldWVzXCIsXHJcbiAgICAgICAgICAgIFwiQmVzdCBCdXk6IEltcGxlbWVudGVkIG1hbnVhbCBhZGQtdG8tY2FydCBhbmQgYXV0b21hdGljL21hbnVhbCBxdWV1ZSBjYXJ0aW5nXCIsXHJcbiAgICAgICAgXVxyXG4gICAgfSxcclxuXTtcclxuLy8gU2V0dGluZ3MgaW5jbHVkaW5nIGRlZmF1bHQgZm9yIGluaXRpYWxpemF0aW9uIGFuZCBsYWJlbHNcclxuZXhwb3J0IGNvbnN0IHNldHRpbmdMYWJlbHMgPSB7XHJcbiAgICBcImdsb2JhbFwiOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJHbG9iYWwgU2V0dGluZ3NcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJOb3RlIHRoYXQgcG9wLXVwIG5vdGlmaWNhdGlvbnMgY2FuIG9ic2N1cmUgdGhlIHNjcmVlbiBhbmQgZm9yY2VmdWxseSBjaGFuZ2Ugd2luZG93IGZvY3VzIHdoZW4gY2xpY2tlZCAtIGRvbid0IGVuYWJsZSBub3RpZmljYXRpb25zIGlmIHlvdSdyZSBwbGF5aW5nIGdhbWVzIVwiLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIFwiYXV0b09wZW5UYWJcIjoge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJBdXRvbWF0aWNhbGx5IG9wZW4gdGFiIHdoZW4gc2NyaXB0IG5vdCBkZXRlY3RlZFwiLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJub3RpZmljYXRpb25FcnJvclwiOiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIlNob3cgZGVza3RvcCBub3RpZmljYXRpb24gb24gZXh0ZW5zaW9uIGVycm9yXCIsXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBcImJlc3RidXlcIjoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiQmVzdCBCdXkgU2V0dGluZ3NcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJOb3RlIHRoYXQgcG9wLXVwIG5vdGlmaWNhdGlvbnMgY2FuIG9ic2N1cmUgdGhlIHNjcmVlbiBhbmQgZm9yY2VmdWxseSBjaGFuZ2Ugd2luZG93IGZvY3VzIHdoZW4gY2xpY2tlZCAtIGRvbid0IGVuYWJsZSBub3RpZmljYXRpb25zIGlmIHlvdSdyZSBwbGF5aW5nIGdhbWVzIVwiLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIFwiYXV0b0FkZFF1ZXVlXCI6IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiQXV0b21hdGljYWxseSBwcm9jZXNzIHF1ZXVlIGFkZC10by1jYXJ0IHdoZW4gcG9wcGVkXCIsXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImF1dG9SZWxvYWRcIjoge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJBdXRvbWF0aWNhbGx5IHJlbG9hZCB0YWIgb24gcG9zc2libGUgcmF0ZS1saW1pdGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJyZXBsYWNlUXVldWVcIjoge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJSZXBsYWNlIHF1ZXVlcyB3aXRoIHNob3J0ZXN0IGluc3RlYWQgb2YgYXBwZW5kaW5nXCIsXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInJlcXVldWVTdWNjZXNzXCI6IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiUmUtcXVldWUgd2l0aCByZXNwb25zZSBoZWFkZXJzIG9uIHN1Y2Nlc3NmdWwgY2FydFwiLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJub3RpZmljYXRpb25TdWNjZXNzXCI6IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiU2hvdyBkZXNrdG9wIG5vdGlmaWNhdGlvbiBvbiBzdWNjZXNzZnVsIGNhcnRcIixcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibm90aWZpY2F0aW9uRmFpbHVyZVwiOiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIlNob3cgZGVza3RvcCBub3RpZmljYXRpb24gb24gZmFpbGVkIGNhcnRcIixcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibm90aWZpY2F0aW9uUXVldWVcIjoge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJTaG93IGRlc2t0b3Agbm90aWZpY2F0aW9uIG9uIHF1ZXVlIGludGVyY2VwdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJub3RpZmljYXRpb25SYXRlTGltaXRcIjoge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJTaG93IGRlc2t0b3Agbm90aWZpY2F0aW9uIG9uIHBvdGVudGlhbCByYXRlLWxpbWl0aW5nXCIsXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn07XHJcbi8vIEJlc3QgQnV5IGRhdGEgZm9yIG1hbnVhbCBhZGQtdG8tY2FydCBhbmQgZGlzcGxheVxyXG5leHBvcnQgY29uc3QgcmF3QmVzdEJ1eUl0ZW1zID0ge1xyXG4gICAgXCJndHgtMTZcIjoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiW0dyYXBoaWNzXSBHZUZvcmNlIEdUWCAxNi1TZXJpZXNcIixcclxuICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIEdUWCAxNjYwIFNVUEVSIFRVRiBHQU1JTkcgT0NcIiwgXCJkYXRhXCI6IFwiNjQwNTA2M1wiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJFVkdBIEdlRm9yY2UgR1RYIDE2NTAgU1VQRVIgU0MgVUxUUkEgR0FNSU5HXCIsIFwiZGF0YVwiOiBcIjY0MTI5MzlcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiRVZHQSBHZUZvcmNlIEdUWCAxNjYwVGkgU0MgVUxUUkEgR0FNSU5HXCIsIFwiZGF0YVwiOiBcIjYzNzM1MDBcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgR1RYIDE2NTAgU1VQRVIgR0FNSU5HIFhcIiwgXCJkYXRhXCI6IFwiNjM5Nzc5OFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBHVFggMTY2MCBTVVBFUiBHQU1JTkcgWFwiLCBcImRhdGFcIjogXCI2Mzg5MzMzXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk1TSSBHZUZvcmNlIEdUWCAxNjYwVGkgR0FNSU5HIFhcIiwgXCJkYXRhXCI6IFwiNjMzMDQ2MVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJQTlkgR2VGb3JjZSBHVFggMTY1MCBTVVBFUiBYTFI4IEdBTUlORyBPQ1wiLCBcImRhdGFcIjogXCI2NDA3MzA1XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIlBOWSBHZUZvcmNlIEdUWCAxNjYwIFNVUEVSIFhMUjggR0FNSU5HIE9DXCIsIFwiZGF0YVwiOiBcIjY0MDczMDlcIiB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgXCJydHgtMzA2MFwiOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJbR3JhcGhpY3NdIEdlRm9yY2UgUlRYIDMwNjBcIixcclxuICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDYwIFNUUklYXCIsIFwiZGF0YVwiOiBcIjY0NjA2NjVcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDYwIFNUUklYIChMSFIpXCIsIFwiZGF0YVwiOiBcIjY0NzUyMjRcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDYwIFRVRiBHQU1JTkdcIiwgXCJkYXRhXCI6IFwiNjQ2MDY2NlwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJBU1VTIEdlRm9yY2UgUlRYIDMwNjAgVFVGIEdBTUlORyAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDc1MjIzXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkVWR0EgR2VGb3JjZSBSVFggMzA2MCBYQyBHQU1JTkcgKEtCKVwiLCBcImRhdGFcIjogXCI2NDU0MzI5XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkVWR0EgR2VGb3JjZSBSVFggMzA2MCBYQyBHQU1JTkcgKEtSKVwiLCBcImRhdGFcIjogXCI2NDU0MzI4XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNjAgQU9SVVMgRUxJVEVcIiwgXCJkYXRhXCI6IFwiNjQ2ODkxMFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDYwIEVBR0xFIE9DXCIsIFwiZGF0YVwiOiBcIjY0NTQ2ODlcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA2MCBFQUdMRSBPQyAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDY4OTI4XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNjAgR0FNSU5HIE9DXCIsIFwiZGF0YVwiOiBcIjY0NTQ2ODhcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA2MCBHQU1JTkcgT0MgKExIUilcIiwgXCJkYXRhXCI6IFwiNjQ2ODkzMVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDYwIFZJU0lPTiBPQ1wiLCBcImRhdGFcIjogXCI2NDY4OTI1XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk1TSSBHZUZvcmNlIFJUWCAzMDYwIEdBTUlORyBYIE9DXCIsIFwiZGF0YVwiOiBcIjY0NzYyMjlcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwNjAgVkVOVFVTIDJYIE9DXCIsIFwiZGF0YVwiOiBcIjY0NjIxNzNcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwNjAgVkVOVFVTIDNYIE9DXCIsIFwiZGF0YVwiOiBcIjY0NTI5NDBcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiUE5ZIEdlRm9yY2UgUlRYIDMwNjAgWExSOCBHQU1JTkcgUkVWRUwgRVBJQy1YXCIsIFwiZGF0YVwiOiBcIjY0NTQzMThcIiB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgXCJydHgtMzA2MHRpXCI6IHtcclxuICAgICAgICBkaXNwbGF5OiBcIltHcmFwaGljc10gR2VGb3JjZSBSVFggMzA2MFRpXCIsXHJcbiAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkFTVVMgR2VGb3JjZSBSVFggMzA2MFRpIFRVRiBHQU1JTkdcIiwgXCJkYXRhXCI6IFwiNjQ3NTIzN1wiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJBU1VTIEdlRm9yY2UgUlRYIDMwNjBUaSBUVUYgR0FNSU5HXCIsIFwiZGF0YVwiOiBcIjY0NTI1NzNcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiRVZHQSBHZUZvcmNlIFJUWCAzMDYwVGkgRlRXMyBHQU1JTkcgKEtCKVwiLCBcImRhdGFcIjogXCI2NDQ0NDQ0XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkVWR0EgR2VGb3JjZSBSVFggMzA2MFRpIEZUVzMgR0FNSU5HIChLSCwgTEhSKVwiLCBcImRhdGFcIjogXCI2NDc5NTI0XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNjBUaSBBT1JVUyBFQUdMRSAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDc5Njg2XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNjBUaSBFQUdMRSBPQ1wiLCBcImRhdGFcIjogXCI2NDQyNDg1XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNjBUaSBFQUdMRSBPQyAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDcxOTUxXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNjBUaSBHQU1JTkcgT0NcIiwgXCJkYXRhXCI6IFwiNjQ3MTk1MlwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDYwVGkgR0FNSU5HIE9DIChMSFIpXCIsIFwiZGF0YVwiOiBcIjY0Nzk2ODhcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA2MFRpIEdBTUlORyBPQyAoTEhSIFYyKVwiLCBcImRhdGFcIjogXCI2NDQyNDg0XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk1TSSBHZUZvcmNlIFJUWCAzMDYwVGkgR0FNSU5HIFhcIiwgXCJkYXRhXCI6IFwiNjQ4MDI5MVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA2MFRpIEdBTUlORyBaXCIsIFwiZGF0YVwiOiBcIjY0NzYyMzBcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwNjBUaSBWRU5UVVMgMlggT0NcIiwgXCJkYXRhXCI6IFwiNjQ0MTE3MlwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA2MFRpIFZFTlRVUyAyWCBPQyAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDcxMjg2XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk1TSSBHZUZvcmNlIFJUWCAzMDYwVGkgVkVOVFVTIDNYIE9DXCIsIFwiZGF0YVwiOiBcIjY0ODAzMDdcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTlZJRElBIEdlRm9yY2UgUlRYIDMwNjBUaSBGT1VOREVSU1wiLCBcImRhdGFcIjogXCI2NDM5NDAyXCIgfSxcclxuICAgICAgICBdLFxyXG4gICAgfSxcclxuICAgIFwicnR4LTMwNzBcIjoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiW0dyYXBoaWNzXSBHZUZvcmNlIFJUWCAzMDcwXCIsXHJcbiAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkFTVVMgR2VGb3JjZSBSVFggMzA3MCBTVFJJWFwiLCBcImRhdGFcIjogXCI2NDM5MTI3XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkFTVVMgR2VGb3JjZSBSVFggMzA3MCBTVFJJWCAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDc1MjI4XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkFTVVMgR2VGb3JjZSBSVFggMzA3MCBUVUYgR0FNSU5HXCIsIFwiZGF0YVwiOiBcIjY0MzkxMjhcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDcwIFRVRiBHQU1JTkcgKExIUilcIiwgXCJkYXRhXCI6IFwiNjQ3NTIyNlwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJFVkdBIEdlRm9yY2UgUlRYIDMwNzAgWEMzIFVMVFJBIEdBTUlORyAoS0wsIExIUilcIiwgXCJkYXRhXCI6IFwiNjQ3OTUyOFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJFVkdBIEdlRm9yY2UgUlRYIDMwNzAgWEMzIFVMVFJBIEdBTUlORyAoS0gsIExIUilcIiwgXCJkYXRhXCI6IFwiNjQ3NzA3N1wiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJFVkdBIEdlRm9yY2UgUlRYIDMwNzAgWEMzIFVMVFJBIEdBTUlORyAoS0IpXCIsIFwiZGF0YVwiOiBcIjY0MzkyOTlcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA3MCBBT1JVUyBNQVNURVJcIiwgXCJkYXRhXCI6IFwiNjQzOTM4NFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDcwIEFPUlVTIE1BU1RFUiAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDc5Njg1XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNzAgRUFHTEVcIiwgXCJkYXRhXCI6IFwiNjQzNzkxMlwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDcwIEVBR0xFIE9DIChMSFIpXCIsIFwiZGF0YVwiOiBcIjY0NzE5NThcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA3MCBHQU1JTkcgT0NcIiwgXCJkYXRhXCI6IFwiNjQzNzkwOVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDcwIFZJU0lPTiBPQ1wiLCBcImRhdGFcIjogXCI2NDM5Mzg1XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk1TSSBHZUZvcmNlIFJUWCAzMDcwIEdBTUlORyBaIFRSSU9cIiwgXCJkYXRhXCI6IFwiNjQ3MTI4NVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA3MCBWRU5UVVMgMlggT0NcIiwgXCJkYXRhXCI6IFwiNjQ2MjI2NlwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA3MCBWRU5UVVMgMlggT0MgKExIUilcIiwgXCJkYXRhXCI6IFwiNjQ4MDMwOFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA3MCBWRU5UVVMgM1ggT0NcIiwgXCJkYXRhXCI6IFwiNjQzODI3OFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA3MCBHQU1JTkcgWCBUUklPXCIsIFwiZGF0YVwiOiBcIjY0MzgyNzlcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTlZJRElBIEdlRm9yY2UgUlRYIDMwNzAgRk9VTkRFUlNcIiwgXCJkYXRhXCI6IFwiNjQyOTQ0MlwiIH0sXHJcbiAgICAgICAgXSxcclxuICAgIH0sXHJcbiAgICBcInJ0eC0zMDcwdGlcIjoge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiW0dyYXBoaWNzXSBHZUZvcmNlIFJUWCAzMDcwVGlcIixcclxuICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDcwVGkgU1RSSVhcIiwgXCJkYXRhXCI6IFwiNjQ2NzgzOFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJBU1VTIEdlRm9yY2UgUlRYIDMwNzBUaSBUVUYgR0FNSU5HXCIsIFwiZGF0YVwiOiBcIjY0Njc4NDBcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA3MFRpIEFPUlVTIE1BU1RFUlwiLCBcImRhdGFcIjogXCI2NDY3Nzg4XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwNzBUaSBHQU1JTkcgT0NcIiwgXCJkYXRhXCI6IFwiNjQ2Nzc3OVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDcwVGkgRUFHTEVcIiwgXCJkYXRhXCI6IFwiNjQ2Nzc4MlwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDcwVGkgRUFHTEUgT0NcIiwgXCJkYXRhXCI6IFwiNjQ2Nzc4MVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDcwVGkgVklTSU9OIE9DXCIsIFwiZGF0YVwiOiBcIjY0Njc3ODVcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwNzBUaSBHQU1JTkcgWCBUUklPXCIsIFwiZGF0YVwiOiBcIjY0Njc0OTdcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwNzBUaSBWRU5UVVMgM1ggT0NcIiwgXCJkYXRhXCI6IFwiNjQ2NzUwMFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJOVklESUEgR2VGb3JjZSBSVFggMzA3MFRpIEZPVU5ERVJTXCIsIFwiZGF0YVwiOiBcIjY0NjU3ODlcIiB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgXCJydHgtMzA4MFwiOiB7XHJcbiAgICAgICAgZGlzcGxheTogXCJbR3JhcGhpY3NdIEdlRm9yY2UgUlRYIDMwODBcIixcclxuICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDgwIFNUUklYXCIsIFwiZGF0YVwiOiBcIjY0MzI0NDVcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDgwIFNUUklYIChMSFIpXCIsIFwiZGF0YVwiOiBcIjY0NzUyMzhcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiRVZHQSBHZUZvcmNlIFJUWCAzMDgwIFhDMyBVTFRSQSBHQU1JTkcgKEtCKVwiLCBcImRhdGFcIjogXCI2NDMyNDAwXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkVWR0EgR2VGb3JjZSBSVFggMzA4MCBYQzMgVUxUUkEgR0FNSU5HIChLSCwgTEhSKVwiLCBcImRhdGFcIjogXCI2NDcxNjE1XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwODAgQU9SVVMgTUFTVEVSIChMSFIpXCIsIFwiZGF0YVwiOiBcIjY0NjIxOThcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA4MCBBT1JVUyBYVFJFTUVcIiwgXCJkYXRhXCI6IFwiNjQzNjIyM1wiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDgwIEFPUlVTIFhUUkVNRSAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDcxOTU0XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwODAgRUFHTEUgT0NcIiwgXCJkYXRhXCI6IFwiNjQzMDYyMVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDgwIEdBTUlORyBPQ1wiLCBcImRhdGFcIjogXCI2NDMwNjIwXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwODAgR0FNSU5HIE9DIChMSFIpXCIsIFwiZGF0YVwiOiBcIjY0NzE5NjBcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA4MCBWSVNJT04gT0NcIiwgXCJkYXRhXCI6IFwiNjQzNjIxOVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDgwIFZJU0lPTiBPQyAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDcxOTU3XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk1TSSBHZUZvcmNlIFJUWCAzMDgwIEdBTUlORyBaIFRSSU9cIiwgXCJkYXRhXCI6IFwiNjQ4MDI4OVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA4MCBWRU5UVVMgM1ggKExIUilcIiwgXCJkYXRhXCI6IFwiNjQ3MTI4N1wiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA4MCBWRU5UVVMgM1ggT0NcIiwgXCJkYXRhXCI6IFwiNjQzMDE3NVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJNU0kgR2VGb3JjZSBSVFggMzA4MCBWRU5UVVMgM1ggUExVUyAoTEhSKVwiLCBcImRhdGFcIjogXCI2NDgwMzA2XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk5WSURJQSBHZUZvcmNlIFJUWCAzMDgwIEZPVU5ERVJTXCIsIFwiZGF0YVwiOiBcIjY0Mjk0NDBcIiB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgXCJydHgtMzA4MHRpXCI6IHtcclxuICAgICAgICBkaXNwbGF5OiBcIltHcmFwaGljc10gR2VGb3JjZSBSVFggMzA4MFRpXCIsXHJcbiAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkFTVVMgR2VGb3JjZSBSVFggMzA4MFRpIFNUUklYXCIsIFwiZGF0YVwiOiBcIjY0NjY5MzFcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiQVNVUyBHZUZvcmNlIFJUWCAzMDgwVGkgVFVGIEdBTUlOR1wiLCBcImRhdGFcIjogXCI2NDY2OTMyXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkVWR0EgR2VGb3JjZSBSVFggMzA4MFRpIEZUVzMgVUxUUkEgR0FNSU5HIChLQilcIiwgXCJkYXRhXCI6IFwiNjQ2NzgwOFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDgwVGkgQU9SVVMgTUFTVEVSXCIsIFwiZGF0YVwiOiBcIjY0Njg5MzJcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiR0lHQUJZVEUgR2VGb3JjZSBSVFggMzA4MFRpIEFPUlVTIFhUUkVNRVwiLCBcImRhdGFcIjogXCI2NDY4OTMzXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwODBUaSBHQU1JTkcgT0NcIiwgXCJkYXRhXCI6IFwiNjQ2NjU2MVwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDgwVGkgVklTSU9OIE9DXCIsIFwiZGF0YVwiOiBcIjY0NjY1NjRcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwODBUaSBHQU1JTkcgWCBUUklPXCIsIFwiZGF0YVwiOiBcIjY0NjU4MDNcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwODBUaSBWRU5UVVMgM1ggT0NcIiwgXCJkYXRhXCI6IFwiNjQ3MjYzN1wiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJOVklESUEgR2VGb3JjZSBSVFggMzA4MFRpIEZPVU5ERVJTXCIsIFwiZGF0YVwiOiBcIjY0NjI5NTZcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiUE5ZIEdlRm9yY2UgUlRYIDMwODBUaSBYTFI4IEdBTUlORyBSRVZFTCBFUElDLVhcIiwgXCJkYXRhXCI6IFwiNjQ2NzI4OVwiIH0sXHJcbiAgICAgICAgXSxcclxuICAgIH0sXHJcbiAgICBcInJ0eC0zMDkwXCI6IHtcclxuICAgICAgICBkaXNwbGF5OiBcIltHcmFwaGljc10gR2VGb3JjZSBSVFggMzA5MFwiLFxyXG4gICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJBU1VTIEdlRm9yY2UgUlRYIDMwOTAgU1RSSVhcIiwgXCJkYXRhXCI6IFwiNjQzMjQ0N1wiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJBU1VTIEdlRm9yY2UgUlRYIDMwOTAgVFVGIEdBTUlOR1wiLCBcImRhdGFcIjogXCI2NDMyNDQ2XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkVWR0EgR2VGb3JjZSBSVFggMzA5MCBYQzMgVUxUUkEgR0FNSU5HIChLQilcIiwgXCJkYXRhXCI6IFwiNjQzNDE5OFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDkwIEFPUlVTIE1BU1RFUlwiLCBcImRhdGFcIjogXCI2NDM3OTEwXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwOTAgRUFHTEUgT0NcIiwgXCJkYXRhXCI6IFwiNjQzMDYyNFwiIH0sXHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogXCJHSUdBQllURSBHZUZvcmNlIFJUWCAzMDkwIEdBTUlORyBPQ1wiLCBcImRhdGFcIjogXCI2NDMwNjIzXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIkdJR0FCWVRFIEdlRm9yY2UgUlRYIDMwOTAgVklTSU9OIE9DXCIsIFwiZGF0YVwiOiBcIjY0NDUxMDhcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwOTAgR0FNSU5HIFggVFJJT1wiLCBcImRhdGFcIjogXCI2NDY4ODYzXCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk1TSSBHZUZvcmNlIFJUWCAzMDkwIFZFTlRVUyAzWCBPQ1wiLCBcImRhdGFcIjogXCJTS1U6IDY0NzI2NDZcIiB9LFxyXG4gICAgICAgICAgICB7IGRpc3BsYXk6IFwiTVNJIEdlRm9yY2UgUlRYIDMwOTAgVkVOVFVTIDNYIE9DICg/KVwiLCBcImRhdGFcIjogXCI2NDMwMjE1XCIgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5OiBcIk5WSURJQSBHZUZvcmNlIFJUWCAzMDkwIEZPVU5ERVJTXCIsIFwiZGF0YVwiOiBcIjY0Mjk0MzRcIiB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG59O1xyXG5leHBvcnQgY29uc3QgYmVzdEJ1eURpc3BsYXlzID0gT2JqZWN0LmVudHJpZXMocmF3QmVzdEJ1eUl0ZW1zKS5yZWR1Y2UoKG9iaiwgW18sIHJhd0NhdGVnb3J5RGF0YV0pID0+IHtcclxuICAgIG9iaiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb2JqKSwgT2JqZWN0LmVudHJpZXMocmF3Q2F0ZWdvcnlEYXRhLml0ZW1zKS5yZWR1Y2UoKHN1Yk9iaiwgW18sIHJhd0l0ZW1EYXRhXSkgPT4ge1xyXG4gICAgICAgIHN1Yk9ialtyYXdJdGVtRGF0YS5kYXRhXSA9IHJhd0l0ZW1EYXRhLmRpc3BsYXk7XHJcbiAgICAgICAgcmV0dXJuIHN1Yk9iajtcclxuICAgIH0sIHt9KSk7XHJcbiAgICByZXR1cm4gb2JqO1xyXG59LCB7fSk7XHJcbiIsIjsgLy8gQ3VycmVudGx5IHF1ZXVlZCByZXF1ZXN0IHdpdGhpbiBzdHJlYW1saW5lIGJhY2tncm91bmQgc2NyaXB0XHJcbjsgLy8gT3JpZ2luYWwgYnJvYWRjYXN0ZXIgaWRsZXMgdW50aWwgZXhlY3V0aW9uIGZpbmlzaGVkIGFuZCByZXNvbHZlZFxyXG47IC8vIFJlc3BvbnNlIGZyb20gcXVldWVkIHJlcXVlc3QgcmV0dXJuZWQgdG8gb3JpZ2luYWwgYnJvYWRjYXN0ZXJcclxuOyAvLyBSZXF1ZXN0IHBheWxvYWQgYnJvYWRjYXN0ZWQgdG8gdGFyZ2V0ZWQgdGFiXHJcbjsgLy8gUmVzcG9uc2UgcGF5bG9hZCBmcm9tIHRhcmdldGVkIHRhYiwgaW5jbHVkZXMgZXh0cmEgaW5zdHJ1Y3Rpb25zXHJcbjtcclxuLy8gUGluZyByZXF1ZXN0IHRvIGNoZWNrIHRhYiByZWFjdGl2aXR5XHJcbmV4cG9ydCBjb25zdCBwaW5nUmVxdWVzdCA9IHtcclxuICAgIGhhbmRsZXI6IFwicGluZ1wiLFxyXG4gICAgYXJnczogW10sXHJcbn07XHJcbi8vIERlZmF1bHQgcGluZyByZXNwb25zZSBmb3IgY29udGVudCBzY3JpcHRcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnRlbnRQaW5nKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2YWx1ZTogXCJva2F5XCIsXHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IGdldCwgd3JpdGFibGUgfSBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zdG9yZVwiO1xyXG4vLyBTb21ld2hhdCBmYW5jeSBsb2dnaW5nIGZyb20gZXh0ZW5zaW9uIGJhY2tncm91bmRcclxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuc2lvbkxvZyhzZW5kZXIsIG1lc3NhZ2UsIGxldmVsID0gXCJpbmZvXCIpIHtcclxuICAgIC8vIEdlbmVyYXRlIHRpbWVzdG1hcCBmb3IgbG9nZ2luZyBpbiAyNC1ob3VyIEhIOk1NOlNTIGZvcm1hdFxyXG4gICAgY29uc3QgdGltZXN0YW1wID0gKG5ldyBEYXRlKCkpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tR0InLCB7XHJcbiAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXHJcbiAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcclxuICAgICAgICBzZWNvbmQ6IFwiMi1kaWdpdFwiLFxyXG4gICAgfSkuc3Vic3RyaW5nKDAsIDgpO1xyXG4gICAgLy8gTG9nIG9yIGVycm9yIHRvIGNvbnNvbGUgKGN1cnJlbnRseSB3aXRob3V0IGZvcm1hdHRpbmcpXHJcbiAgICBjb25zdCBvdXRwdXQgPSBgWyR7dGltZXN0YW1wfV1cXHRcXHQoJHtzZW5kZXJ9KVxcdFxcdCR7bWVzc2FnZX1gO1xyXG4gICAgaWYgKGxldmVsID09PSBcImluZm9cIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG91dHB1dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsZXZlbCA9PT0gXCJkZWJ1Z1wiKSB7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhvdXRwdXQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobGV2ZWwgPT09IFwid2FyblwiKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKG91dHB1dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsZXZlbCA9PT0gXCJlcnJvclwiKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihvdXRwdXQpO1xyXG4gICAgfVxyXG59XHJcbi8vIEluaXRpYWxpemUgd3JpdGFibGUgc3RvcmUgZnJvbSBTdG9yYWdlIEFQSSBhbmQgbWFpbnRhaW4gdmFsdWUgdXNpbmcgc3Vic2NyaXB0aW9uc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVN0b3JlKGtleSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAvLyBJbml0aWFsaXplIHdyaXRhYmxlIHN0b3JlIGZyb20gc3RvcmFnZSB2YWx1ZVxyXG4gICAgY29uc3Qgc3RvcmFnZVZhbHVlID0gYXdhaXQgc3RvcmFnZUdldChrZXksIGRlZmF1bHRWYWx1ZSk7XHJcbiAgICBjb25zdCBzdG9yZSA9IHdyaXRhYmxlKHN0b3JhZ2VWYWx1ZSk7XHJcbiAgICAvLyBJbnN0YW50aWF0ZSBzZXR0ZXIgYW5kIGdldHRlciBmb3IgYnJvYWRjYXN0aW5nIHVwZGF0ZXNcclxuICAgIC8vIEFzc3VtZSB0aGF0IGJvdGgga2V5IGFuZCB2YWx1ZSBhcmUgaW5kZXhhYmxlIGJ5IHN0cmluZ1xyXG4gICAgY29uc3Qgc2V0ID0gKHNldEtleSwgc2V0VmFsdWUpID0+IHtcclxuICAgICAgICBzdG9yZS51cGRhdGUodmFsdWUgPT4geyB2YWx1ZVtzZXRLZXldID0gc2V0VmFsdWU7IHJldHVybiB2YWx1ZTsgfSk7XHJcbiAgICAgICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7IFtrZXldOiBnZXQoc3RvcmUpIH0pO1xyXG4gICAgICAgIHNlbmRSZXF1ZXN0QmFja2dyb3VuZChcInVwZGF0ZS1zZXRcIiwgW2tleSwgc2V0S2V5LCBzZXRWYWx1ZV0pO1xyXG4gICAgfTsgLy8gU2V0dGVyIHRvIGJyb2FkY2FzdCBrZXkgc2V0IHVwZGF0ZVxyXG4gICAgY29uc3QgZGVsID0gKGRlbEtleSkgPT4ge1xyXG4gICAgICAgIHN0b3JlLnVwZGF0ZSh2YWx1ZSA9PiB7IGRlbGV0ZSB2YWx1ZVtkZWxLZXldOyByZXR1cm4gdmFsdWU7IH0pO1xyXG4gICAgICAgIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoeyBba2V5XTogZ2V0KHN0b3JlKSB9KTtcclxuICAgICAgICBzZW5kUmVxdWVzdEJhY2tncm91bmQoXCJ1cGRhdGUtZGVsXCIsIFtrZXksIGRlbEtleV0pO1xyXG4gICAgfTsgLy8gRGVsZXRlciB0byBicm9hZGNhc3Qga2V5IGRlbGV0ZSB1cGRhdGVcclxuICAgIC8vIEF0dGFjaCBhZGRpdGlvbmFsIG1lc3NhZ2UgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciB1cGRhdGVzXHJcbiAgICBicm93c2VyLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGFzeW5jIChtZXNzYWdlLCBzZW5kZXIpID0+IHtcclxuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIGtleSBtYXRjaGVzIGFuZCBwZXJmb3JtIHVwZGF0ZSBvciBkZWxldGlvblxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBtZXNzYWdlO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LmhhbmRsZXIgPT09IFwidXBkYXRlLXNldFwiKSB7XHJcbiAgICAgICAgICAgIC8vIERlY29uc3RydWN0IGFyZ3VtZW50cyBhbmQgc2V0L3JlcGxhY2Uga2V5IGluIHN0b3JlXHJcbiAgICAgICAgICAgIGNvbnN0IFtzdG9yZUtleSwgc2V0S2V5LCBzZXRWYWx1ZV0gPSByZXF1ZXN0LmFyZ3M7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZUtleSA9PT0ga2V5KSB7IC8vIEVuc3VyZSBrZXkgbWF0Y2hlcyBiZWZvcmUgc2V0dGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gRE8gTk9UIHVzZSBzZXR0ZXIsIG90aGVyd2lzZSB1cGRhdGUgYnJvYWRjYXN0cyBpbiBsb29wXHJcbiAgICAgICAgICAgICAgICBzdG9yZS51cGRhdGUodmFsdWUgPT4geyB2YWx1ZVtzZXRLZXldID0gc2V0VmFsdWU7IHJldHVybiB2YWx1ZTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5oYW5kbGVyID09PSBcInVwZGF0ZS1kZWxldGVcIikge1xyXG4gICAgICAgICAgICAvLyBEZWNvbnN0cnVjdCBhcmd1bWVudHMgYW5kIGRlbGV0ZSBrZXkgZnJvbSBzdG9yZVxyXG4gICAgICAgICAgICBjb25zdCBbc3RvcmVLZXksIGRlbEtleV0gPSByZXF1ZXN0LmFyZ3M7XHJcbiAgICAgICAgICAgIGlmIChzdG9yZUtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBETyBOT1QgdXNlIGRlbGV0ZXIsIG90aGVyd2lzZSB1cGRhdGUgYnJvYWRjYXN0cyBpbiBsb29wXHJcbiAgICAgICAgICAgICAgICBzdG9yZS51cGRhdGUodmFsdWUgPT4geyBkZWxldGUgdmFsdWVbZGVsS2V5XTsgcmV0dXJuIHZhbHVlOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHsgc3RvcmUsIHNldCwgZGVsIH07XHJcbn1cclxuLy8gUmVzb2x2ZS9yZWplY3Qgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyB0byBiYWNrZ3JvdW5kXHJcbi8vIEN1cnJlbnRseSBkb2Vzbid0IGltcGxlbWVudCB0aW1lb3V0IGJ1dCBtYXliZSBsYXRlcj9cclxuYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2VCYWNrZ3JvdW5kKHJlcXVlc3QpIHtcclxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZShyZXF1ZXN0KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNvbHZlKHJlc3BvbnNlKSkgLy8gU3VjY2Vzc2Z1bFxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVzb2x2ZShlcnJvci5tZXNzYWdlKSk7IC8vIEZhaWxlZCwgbm8gbGlua1xyXG4gICAgfSk7XHJcbn1cclxuLy8gSW5pdGlhbGl6ZXMgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIGNvbnRlbnQgc2NyaXB0IHdpdGgga2V5IGFuZCBwYXJhbXNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0QmFja2dyb3VuZChoYW5kbGVyLCBhcmdzID0gW10pIHtcclxuICAgIC8vIENvbnN0cnVjdCByZXF1ZXN0IGZyb20gcGFyYW1ldGVyc1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IHtcclxuICAgICAgICBoYW5kbGVyLCBhcmdzLFxyXG4gICAgfTtcclxuICAgIC8vIFNlbmQgbWVzc2FnZSBhbmQgd2FpdCBmb3IgcmVzcG9uc2VcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZE1lc3NhZ2VCYWNrZ3JvdW5kKHJlcXVlc3QpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG59XHJcbjtcclxuLy8gSW5pdGlhbGl6ZXMgd3JhcHBlciBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIGJhY2tncm91bmQgb3IgZXh0ZW5zaW9uIHdpdGgga2V5IGFuZCBwYXJhbXNcclxuLy8gTXVzdCB0YXJnZXQgaW5kaXZpZHVhbCB0YWJzIGJ5IGdsb2IsIHRodXMgb25seSBzZW5kcyB0byB0aGUgZmlyc3QgdGFiIG1hdGNoZWRcclxuZXhwb3J0IGNvbnN0IGRvbWFpbk1hdGNoZXMgPSB7XHJcbiAgICBcImJlc3RidXlcIjogXCJodHRwczovLyouYmVzdGJ1eS5jb20vKlwiLFxyXG59OyAvLyBEb21haW4gbWF0Y2hlcyBmb3Igc2VuZGluZyBtZXNzYWdlcyBmcm9tIGJhY2tncm91bmQgb3IgZXh0ZW5zaW9uXHJcbi8qXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kTWVzc2FnZVRvQ29udGVudChzZWxmOiBzdHJpbmcsIHRhcmdldDogc3RyaW5nLCBoYW5kbGVyOiBzdHJpbmcsIGFyZ3M6IGFueVtdID0gW10pOiBQcm9taXNlPE1lc3NhZ2VSZXNwb25zZT4ge1xyXG4gICAgLy8gQ29uc3RydWN0IHJlcXVlc3QgZnJvbSBwYXJhbWV0ZXJzXHJcbiAgICBjb25zdCByZXF1ZXN0OiBNZXNzYWdlUmVxdWVzdCA9IHtcclxuICAgICAgICBzZW5kZXI6IHNlbGYsXHJcbiAgICAgICAgaGFuZGxlciwgYXJncyxcclxuICAgIH07XHJcblxyXG4gICAgLy8gQXNzdW1lIHRoYXQgdGFiIGFsd2F5cyBmb3VuZCwgaGF2ZSBmYWlsc2FmZT9cclxuICAgIGxldCByZXNwb25zZTogTWVzc2FnZVJlc3BvbnNlID0ge1xyXG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiLFxyXG4gICAgICAgIHBheWxvYWQ6IFwidGFiIG5vdCBmb3VuZCAoc2hvdWxkbid0IGhhcHBlbilcIixcclxuICAgIH07IC8vIERlZmF1bHQgcmVzcG9uc2UsIG92ZXJ3cml0dGVuIGlmIHRhYiBmb3VuZFxyXG4gICAgY29uc3QgdGFicyA9IGF3YWl0IGJyb3dzZXIudGFicy5xdWVyeSh7XHJcbiAgICAgICAgdXJsOiBkb21haW5NYXRjaGVzW3RhcmdldF0gYXMgc3RyaW5nLFxyXG4gICAgICAgIGRpc2NhcmRlZDogZmFsc2UsXHJcbiAgICAgICAgc3RhdHVzOiBcImNvbXBsZXRlXCIsXHJcbiAgICB9KTsgLy8gTWlnaHQgY2F1c2UgaXNzdWVzIHdpdGggZGlzY2FyZGVkIHRhYnM/XHJcbiAgICBpZih0YWJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyBPbmx5IHByb2Nlc3Mgb24gZmlyc3QgY29udGVudCBzY3JpcHQsIGFzc3VtZSB0YWIgSUQgZGVmaW5lZFxyXG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYnJvd3Nlci50YWJzLnNlbmRNZXNzYWdlKHRhYnNbMF0uaWQgYXMgbnVtYmVyLCByZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG59O1xyXG4qL1xyXG4vLyBJbml0aWFsaXplcyBtZXNzYWdlIHJlY2VpdmluZyBmb3IgZ2l2ZW4gY29udGVudCBzY3JpcHQgd2l0aCBrZXkgYW5kIGhhbmRsZXJzXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXNzYWdlUHJvY2Vzc0hhbmRsZXJzKGNvbnRlbnRLZXksIGhhbmRsZXJzLCB2YWxpZFNlbmRlcnMpIHtcclxuICAgIC8vIFNldHVwIGxpc3RlbmVyIGZvciBzbm9vcGluZyBtZXNzYWdlcyBhbmQgZXhlY3V0aW5nIG1hdGNoaW5nIGhhbmRsZXJzXHJcbiAgICBicm93c2VyLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGFzeW5jIChtZXNzYWdlLCBzZW5kZXIpID0+IHtcclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbWVzc2FnZTtcclxuICAgICAgICBsZXQgcmVzcG9uc2UgPSB7XHJcbiAgICAgICAgICAgIHJlc3VsdDogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTsgLy8gUGxhY2Vob2xkZXIgcmVzcG9uc2UgYmVmb3JlIGNvbnN0cnVjdGlvblxyXG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgaGFuZGxlciBleGlzdHMsIG1lc3NhZ2VzIGFyZSB0YXJnZXRlZFxyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1tyZXF1ZXN0LmhhbmRsZXJdO1xyXG4gICAgICAgIGlmIChoYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXh0ZW5zaW9uTG9nKGNvbnRlbnRLZXksIGBQcm9jZXNzaW5nIGhhbmRsZXIgJHtyZXF1ZXN0LmhhbmRsZXJ9IHdpdGggYXJndW1lbnRzICR7SlNPTi5zdHJpbmdpZnkocmVxdWVzdC5hcmdzKX1gKTtcclxuICAgICAgICAgICAgLy8gSGFuZGxlciBleGlzdHMsIGF0dGVtcHQgdG8gZXhlY3V0ZVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IGhhbmRsZXIoLi4ucmVxdWVzdC5hcmdzIHx8IFtdKTtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3VsdCA9IFwib2theVwiO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UucGF5bG9hZCA9IHBheWxvYWQ7IC8vIE5vbi1zZXJpYWxpemVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0ID0gXCJlcnJvclwiO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UucGF5bG9hZC52YWx1ZSA9IGVycm9yTWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbkxvZyhjb250ZW50S2V5LCBgRXJyb3IgcHJvY2Vzc2luZyBoYW5kbGVyICR7cmVxdWVzdC5oYW5kbGVyfTogJHtlcnJvck1lc3NhZ2V9YCwgXCJlcnJvclwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9KTtcclxufVxyXG4vLyBSZXRyaWV2ZSB2YWx1ZSB3aXRoIGdpdmVuIGtleSBmcm9tIFN0b3JhZ2UgQVBJXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdG9yYWdlR2V0KGtleSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAvLyBSZXRyaWV2ZSBmcm9tIHN0b3JhZ2UgYW5kIFwib3ZlcndyaXRlXCIgd2l0aCBkZWZhdWx0IGlmIG5vdCBmb3VuZFxyXG4gICAgY29uc3Qgc3RvcmFnZUNvbnRlbnQgPSBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KGtleSk7XHJcbiAgICBpZiAoc3RvcmFnZUNvbnRlbnRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3RvcmFnZUNvbnRlbnRba2V5XSA9IGRlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdG9yYWdlQ29udGVudFtrZXldO1xyXG59XHJcbi8vIFN0b3JlIHdpdGggdGhlIGdpdmVuIGtleSB0aGUgdmFsdWUgdGhyb3VnaCB0aGUgU3RvcmFnZSBBUElcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JhZ2VTZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgLy8gU3RvcmUgdXNpbmcgdGhlIGdpdmVuIGtleSBhbmQgdmFsdWVcclxuICAgIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoeyBba2V5XTogdmFsdWUgfSk7XHJcbn1cclxuLy8gT3BlbnMgVVJMIGluc3RlYWQgb2YgdXNpbmcgaHJlZiBhdHRyaWJ1dGUgZm9yIGFuY2hvclxyXG5leHBvcnQgZnVuY3Rpb24gb3BlblBhZ2UodXJsLCBhY3RpdmUgPSBmYWxzZSkge1xyXG4gICAgYnJvd3Nlci50YWJzLmNyZWF0ZSh7XHJcbiAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgYWN0aXZlOiBhY3RpdmUsXHJcbiAgICB9KTtcclxufVxyXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85NTEwMjEvd2hhdC1pcy10aGUtamF2YXNjcmlwdC12ZXJzaW9uLW9mLXNsZWVwXHJcbmV4cG9ydCBmdW5jdGlvbiBzbGVlcChtcykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG59XHJcbiIsImltcG9ydCBCYWNrZ3JvdW5kIGZyb20gXCIuL2NvbXBvbmVudHMvQmFja2dyb3VuZC5zdmVsdGVcIjtcclxuY29uc3QgYXBwID0gbmV3IEJhY2tncm91bmQoe1xyXG4gICAgdGFyZ2V0OiBkb2N1bWVudC5ib2R5LFxyXG4gICAgcHJvcHM6IHt9LFxyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgYXBwO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmhtZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlID0gT2JqZWN0LmNyZWF0ZShtb2R1bGUpO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsICdleHBvcnRzJywge1xuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0c2V0OiAoKSA9PiB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VTIE1vZHVsZXMgbWF5IG5vdCBhc3NpZ24gbW9kdWxlLmV4cG9ydHMgb3IgZXhwb3J0cy4qLCBVc2UgRVNNIGV4cG9ydCBzeW50YXgsIGluc3RlYWQ6ICcgKyBtb2R1bGUuaWQpO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmogPSA5Nzk7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDk3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2FraXRvc19hdXRvbWF0ZWRfdXRpbGl0aWVzXCJdID0gc2VsZltcIndlYnBhY2tDaHVua2FraXRvc19hdXRvbWF0ZWRfdXRpbGl0aWVzXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbMTU0XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNjUwKSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwiZGVjb2RlUXVldWUiLCJxdWV1ZUNvZGUiLCJzcGxpdENvZGUiLCJzcGxpdCIsInBhcnNlZENvZGUiLCJtYXAiLCJjaHVuayIsInBhcnNlSW50IiwibWludXRlc1NlY29uZHMiLCJ0b3RhbE1pbGxpU2Vjb25kcyIsInRydW5jYXRlIiwibmVnYXRpdmUiLCJ0b3RhbFNlY29uZHMiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwic2Vjb25kcyIsInNldHRpbmdMYWJlbHMiLCJkaXNwbGF5IiwiZGVzY3JpcHRpb24iLCJzZXR0aW5ncyIsImRlZmF1bHQiLCJiZXN0QnV5RGlzcGxheXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiaXRlbXMiLCJyZWR1Y2UiLCJvYmoiLCJfIiwicmF3Q2F0ZWdvcnlEYXRhIiwiYXNzaWduIiwic3ViT2JqIiwicmF3SXRlbURhdGEiLCJkYXRhIiwicGluZ1JlcXVlc3QiLCJoYW5kbGVyIiwiYXJncyIsImV4dGVuc2lvbkxvZyIsInNlbmRlciIsIm1lc3NhZ2UiLCJsZXZlbCIsIm91dHB1dCIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwic3Vic3RyaW5nIiwiY29uc29sZSIsImxvZyIsImRlYnVnIiwid2FybiIsImVycm9yIiwiYXN5bmMiLCJpbml0aWFsaXplU3RvcmUiLCJrZXkiLCJkZWZhdWx0VmFsdWUiLCJzdG9yYWdlVmFsdWUiLCJzdG9yYWdlQ29udGVudCIsImJyb3dzZXIiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXQiLCJ1bmRlZmluZWQiLCJzdG9yYWdlR2V0Iiwic3RvcmUiLCJydW50aW1lIiwib25NZXNzYWdlIiwiYWRkTGlzdGVuZXIiLCJyZXF1ZXN0Iiwic3RvcmVLZXkiLCJzZXRLZXkiLCJzZXRWYWx1ZSIsInVwZGF0ZSIsInZhbHVlIiwiZGVsS2V5Iiwic2V0Iiwic2VuZFJlcXVlc3RCYWNrZ3JvdW5kIiwiZGVsIiwicmVzcG9uc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNlbmRNZXNzYWdlIiwidGhlbiIsImNhdGNoIiwic2VuZE1lc3NhZ2VCYWNrZ3JvdW5kIiwiZG9tYWluTWF0Y2hlcyIsIm1lc3NhZ2VQcm9jZXNzSGFuZGxlcnMiLCJjb250ZW50S2V5IiwiaGFuZGxlcnMiLCJ2YWxpZFNlbmRlcnMiLCJyZXN1bHQiLCJwYXlsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yTWVzc2FnZSIsInNsZWVwIiwibXMiLCJzZXRUaW1lb3V0IiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJib2R5IiwicHJvcHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImkiLCJsZW5ndGgiLCJmdWxmaWxsZWQiLCJqIiwia2V5cyIsImV2ZXJ5Iiwic3BsaWNlIiwiciIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsImhtZCIsImNyZWF0ZSIsImNoaWxkcmVuIiwiRXJyb3IiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInNvbWUiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiZm9yRWFjaCIsImJpbmQiLCJwdXNoIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=