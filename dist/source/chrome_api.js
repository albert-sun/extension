(()=>{"use strict";var e,t={8061:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function u(e){try{a(o.next(e))}catch(e){i(e)}}function s(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,s)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.retrieveSettingsKV=t.retrieveSettings=t.storageGet=void 0;const r=n(9416),i=n(8681);function u(e,t){return o(this,void 0,void 0,(function*(){const n=yield r.browser.storage.local.get(e);return void 0!==n[e]?n[e]:t}))}function s(e){return o(this,void 0,void 0,(function*(){const t=i.defaultSettings[e];for(const n of t){if(void 0===n.value)continue;const t=`setting-${e}-${n.key}`;n.value=yield u(t,n.value)}return t}))}t.storageGet=u,t.retrieveSettings=s,t.retrieveSettingsKV=function(e){return o(this,void 0,void 0,(function*(){const t={},n=yield s(e);for(const e of n)void 0!==e.value&&(t[e.key]=e);return t}))}},8681:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSettings=void 0,t.defaultSettings={bestbuy:[{key:"changeResetReload",description:"Reset auto-reload on change without refresh",type:"checkbox",value:!0},{key:"notificationSoundURL",description:"Notification sound URL (mp3)",type:"text",value:"https://github.com/albert-sun/tamper-scripts/blob/main/resources/notification.mp3?raw=true"},{key:"testNotificationSound",description:"Test current notification sound",type:"button",instruction:"testNotificationSound"}]}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var u=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],s=!0,a=0;a<n.length;a++)(!1&i||u>=i)&&Object.keys(o.O).every((e=>o.O[e](n[a])))?n.splice(a--,1):(s=!1,i<u&&(u=i));s&&(e.splice(c--,1),t=r())}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=324,(()=>{var e={324:0,533:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[u,s,a]=n,c=0;for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(a)var f=a(o);for(t&&t(n);c<u.length;c++)i=u[c],o.o(e,i)&&e[i]&&e[i][0](),e[u[c]]=0;return o.O(f)},n=self.webpackChunkextension=self.webpackChunkextension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[736],(()=>o(8061)));r=o.O(r)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9leHRlbnNpb24vLi9zb3VyY2UvY2hyb21lX2FwaS50cyIsIndlYnBhY2s6Ly9leHRlbnNpb24vLi9zb3VyY2UvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2V4dGVuc2lvbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9leHRlbnNpb24vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9leHRlbnNpb24vd2VicGFjay9ydW50aW1lL3J1bnRpbWVJZCIsIndlYnBhY2s6Ly9leHRlbnNpb24vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vZXh0ZW5zaW9uL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsIl9fYXdhaXRlciIsInRoaXMiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwicmV0cmlldmVTZXR0aW5nc0tWIiwicmV0cmlldmVTZXR0aW5ncyIsInN0b3JhZ2VHZXQiLCJ3ZWJleHRlbnNpb25fcG9seWZpbGxfdHNfMSIsImNvbnN0YW50c18xIiwic3RvcmFnZUtleSIsImRlZmF1bHRWYWx1ZSIsInN0b3JhZ2VSZXN1bHQiLCJicm93c2VyIiwic3RvcmFnZSIsImxvY2FsIiwiZ2V0IiwidW5kZWZpbmVkIiwic2V0dGluZ3NDYXRlZ29yeSIsImNhdGVnb3J5U2V0dGluZ3MiLCJkZWZhdWx0U2V0dGluZ3MiLCJzZXR0aW5nIiwic2V0dGluZ0tleSIsImtleSIsImNhdGVnb3J5U2V0dGluZ3NLViIsImRlc2NyaXB0aW9uIiwidHlwZSIsImluc3RydWN0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJtIiwiTyIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiaSIsImxlbmd0aCIsImoiLCJrZXlzIiwiZXZlcnkiLCJzcGxpY2UiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJlbnVtZXJhYmxlIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIndpbmRvdyIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiZGF0YSIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiLCJmb3JFYWNoIiwiYmluZCIsInB1c2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sIm1hcHBpbmdzIjoidUJBQUlBLEUsd0JDQ0osSUFBSUMsRUFBYUMsTUFBUUEsS0FBS0QsV0FBYyxTQUFVRSxFQUFTQyxFQUFZQyxFQUFHQyxHQUUxRSxPQUFPLElBQUtELElBQU1BLEVBQUlFLFdBQVUsU0FBVUMsRUFBU0MsR0FDL0MsU0FBU0MsRUFBVUMsR0FBUyxJQUFNQyxFQUFLTixFQUFVTyxLQUFLRixJQUFXLE1BQU9HLEdBQUtMLEVBQU9LLElBQ3BGLFNBQVNDLEVBQVNKLEdBQVMsSUFBTUMsRUFBS04sRUFBaUIsTUFBRUssSUFBVyxNQUFPRyxHQUFLTCxFQUFPSyxJQUN2RixTQUFTRixFQUFLSSxHQUpsQixJQUFlTCxFQUlhSyxFQUFPQyxLQUFPVCxFQUFRUSxFQUFPTCxRQUoxQ0EsRUFJeURLLEVBQU9MLE1BSmhEQSxhQUFpQk4sRUFBSU0sRUFBUSxJQUFJTixHQUFFLFNBQVVHLEdBQVdBLEVBQVFHLE9BSVRPLEtBQUtSLEVBQVdLLEdBQ2xHSCxHQUFNTixFQUFZQSxFQUFVYSxNQUFNaEIsRUFBU0MsR0FBYyxLQUFLUyxZQUd0RU8sT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVYLE9BQU8sSUFDdERXLEVBQVFDLG1CQUFxQkQsRUFBUUUsaUJBQW1CRixFQUFRRyxnQkFBYSxFQUM3RSxNQUFNQyxFQUE2QixFQUFRLE1BQ3JDQyxFQUFjLEVBQVEsTUFFNUIsU0FBU0YsRUFBV0csRUFBWUMsR0FDNUIsT0FBTzVCLEVBQVVDLFVBQU0sT0FBUSxHQUFRLFlBQ25DLE1BQU00QixRQUFzQkosRUFBMkJLLFFBQVFDLFFBQVFDLE1BQU1DLElBQUlOLEdBQ2pGLFlBQXFDTyxJQUE5QkwsRUFBY0YsR0FDZkUsRUFBY0YsR0FBY0MsS0FLMUMsU0FBU0wsRUFBaUJZLEdBQ3RCLE9BQU9uQyxFQUFVQyxVQUFNLE9BQVEsR0FBUSxZQUVuQyxNQUFNbUMsRUFBbUJWLEVBQVlXLGdCQUFnQkYsR0FDckQsSUFBSyxNQUFNRyxLQUFXRixFQUFrQixDQUVwQyxRQUFzQkYsSUFBbEJJLEVBQVE1QixNQUNSLFNBR0osTUFBTTZCLEVBQWEsV0FBV0osS0FBb0JHLEVBQVFFLE1BQzFERixFQUFRNUIsWUFBY2MsRUFBV2UsRUFBWUQsRUFBUTVCLE9BRXpELE9BQU8wQixLQWZmZixFQUFRRyxXQUFhQSxFQWtCckJILEVBQVFFLGlCQUFtQkEsRUFnQjNCRixFQUFRQyxtQkFkUixTQUE0QmEsR0FDeEIsT0FBT25DLEVBQVVDLFVBQU0sT0FBUSxHQUFRLFlBQ25DLE1BQU13QyxFQUFxQixHQUNyQkwsUUFBeUJiLEVBQWlCWSxHQUNoRCxJQUFLLE1BQU1HLEtBQVdGLE9BRUlGLElBQWxCSSxFQUFRNUIsUUFHWitCLEVBQW1CSCxFQUFRRSxLQUFPRixHQUV0QyxPQUFPRyxPLGFDcERmdEIsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVYLE9BQU8sSUFDdERXLEVBQVFnQixxQkFBa0IsRUFFMUJoQixFQUFRZ0IsZ0JBQWtCLENBQ3RCLFFBQVcsQ0FDUCxDQUFFRyxJQUFLLG9CQUFxQkUsWUFBYSw4Q0FBK0NDLEtBQU0sV0FBWWpDLE9BQU8sR0FDakgsQ0FBRThCLElBQUssdUJBQXdCRSxZQUFhLCtCQUFnQ0MsS0FBTSxPQUFRakMsTUFBTyw4RkFDakcsQ0FBRThCLElBQUssd0JBQXlCRSxZQUFhLGtDQUFtQ0MsS0FBTSxTQUFVQyxZQUFhLDZCQ1BqSEMsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQmIsSUFBakJjLEVBQ0gsT0FBT0EsRUFBYTNCLFFBR3JCLElBQUk0QixFQUFTSixFQUF5QkUsR0FBWSxDQUdqRDFCLFFBQVMsSUFPVixPQUhBNkIsRUFBb0JILEdBQVVJLEtBQUtGLEVBQU81QixRQUFTNEIsRUFBUUEsRUFBTzVCLFFBQVN5QixHQUdwRUcsRUFBTzVCLFFBSWZ5QixFQUFvQk0sRUFBSUYsRUh6QnBCbkQsRUFBVyxHQUNmK0MsRUFBb0JPLEVBQUksQ0FBQ3RDLEVBQVF1QyxFQUFVQyxFQUFJQyxLQUM5QyxJQUFHRixFQUFILENBTUEsSUFBSUcsRUFBZUMsSUFDbkIsSUFBU0MsRUFBSSxFQUFHQSxFQUFJNUQsRUFBUzZELE9BQVFELElBQUssQ0FHekMsSUFGQSxJQUFLTCxFQUFVQyxFQUFJQyxHQUFZekQsRUFBUzRELEdBQ3BDbEQsR0FBWSxFQUNQb0QsRUFBSSxFQUFHQSxFQUFJUCxFQUFTTSxPQUFRQyxNQUNwQixFQUFYTCxHQUFzQkMsR0FBZ0JELElBQWFyQyxPQUFPMkMsS0FBS2hCLEVBQW9CTyxHQUFHVSxPQUFPdkIsR0FBU00sRUFBb0JPLEVBQUViLEdBQUtjLEVBQVNPLE1BQzlJUCxFQUFTVSxPQUFPSCxJQUFLLElBRXJCcEQsR0FBWSxFQUNUK0MsRUFBV0MsSUFBY0EsRUFBZUQsSUFHMUMvQyxJQUNGVixFQUFTaUUsT0FBT0wsSUFBSyxHQUNyQjVDLEVBQVN3QyxLQUdYLE9BQU94QyxFQXRCTnlDLEVBQVdBLEdBQVksRUFDdkIsSUFBSSxJQUFJRyxFQUFJNUQsRUFBUzZELE9BQVFELEVBQUksR0FBSzVELEVBQVM0RCxFQUFJLEdBQUcsR0FBS0gsRUFBVUcsSUFBSzVELEVBQVM0RCxHQUFLNUQsRUFBUzRELEVBQUksR0FDckc1RCxFQUFTNEQsR0FBSyxDQUFDTCxFQUFVQyxFQUFJQyxJSUovQlYsRUFBb0JtQixFQUFLaEIsSUFDeEIsSUFBSWlCLEVBQVNqQixHQUFVQSxFQUFPa0IsV0FDN0IsSUFBT2xCLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBSCxFQUFvQnNCLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLEdDTFJwQixFQUFvQnNCLEVBQUksQ0FBQy9DLEVBQVNpRCxLQUNqQyxJQUFJLElBQUk5QixLQUFPOEIsRUFDWHhCLEVBQW9CeUIsRUFBRUQsRUFBWTlCLEtBQVNNLEVBQW9CeUIsRUFBRWxELEVBQVNtQixJQUM1RXJCLE9BQU9DLGVBQWVDLEVBQVNtQixFQUFLLENBQUVnQyxZQUFZLEVBQU12QyxJQUFLcUMsRUFBVzlCLE1DSjNFTSxFQUFvQjJCLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZDLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT3pFLE1BQVEsSUFBSTBFLFNBQVMsY0FBYixHQUNkLE1BQU85RCxHQUNSLEdBQXNCLGlCQUFYK0QsT0FBcUIsT0FBT0EsUUFMakIsR0NBeEI5QixFQUFvQnlCLEVBQUksQ0FBQ00sRUFBS0MsSUFBVTNELE9BQU80RCxVQUFVQyxlQUFlN0IsS0FBSzBCLEVBQUtDLEdDQ2xGaEMsRUFBb0JtQyxFQUFLNUQsSUFDSCxvQkFBWDZELFFBQTBCQSxPQUFPQyxhQUMxQ2hFLE9BQU9DLGVBQWVDLEVBQVM2RCxPQUFPQyxZQUFhLENBQUV6RSxNQUFPLFdBRTdEUyxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRVgsT0FBTyxLQ0x2RG9DLEVBQW9CZSxFQUFJLEksTUNLeEIsSUFBSXVCLEVBQWtCLENBQ3JCLElBQUssRUFDTCxJQUFLLEdBYU50QyxFQUFvQk8sRUFBRVEsRUFBS3dCLEdBQTBDLElBQTdCRCxFQUFnQkMsR0FHeEQsSUFBSUMsRUFBdUIsQ0FBQ0MsRUFBNEJDLEtBQ3ZELElBR0l6QyxFQUFVc0MsR0FIVC9CLEVBQVVtQyxFQUFhQyxHQUFXRixFQUdoQjdCLEVBQUksRUFDM0IsSUFBSVosS0FBWTBDLEVBQ1ozQyxFQUFvQnlCLEVBQUVrQixFQUFhMUMsS0FDckNELEVBQW9CTSxFQUFFTCxHQUFZMEMsRUFBWTFDLElBR2hELEdBQUcyQyxFQUFTLElBQUkzRSxFQUFTMkUsRUFBUTVDLEdBRWpDLElBREd5QyxHQUE0QkEsRUFBMkJDLEdBQ3JEN0IsRUFBSUwsRUFBU00sT0FBUUQsSUFDekIwQixFQUFVL0IsRUFBU0ssR0FDaEJiLEVBQW9CeUIsRUFBRWEsRUFBaUJDLElBQVlELEVBQWdCQyxJQUNyRUQsRUFBZ0JDLEdBQVMsS0FFMUJELEVBQWdCOUIsRUFBU0ssSUFBTSxFQUVoQyxPQUFPYixFQUFvQk8sRUFBRXRDLElBRzFCNEUsRUFBcUJDLEtBQTRCLHNCQUFJQSxLQUE0Qix1QkFBSyxHQUMxRkQsRUFBbUJFLFFBQVFQLEVBQXFCUSxLQUFLLEtBQU0sSUFDM0RILEVBQW1CSSxLQUFPVCxFQUFxQlEsS0FBSyxLQUFNSCxFQUFtQkksS0FBS0QsS0FBS0gsSyxHQzVDdkYsSUFBSUssRUFBc0JsRCxFQUFvQk8sT0FBRW5CLEVBQVcsQ0FBQyxNQUFNLElBQU9ZLEVBQW9CLFFBQzdGa0QsRUFBc0JsRCxFQUFvQk8sRUFBRTJDLEkiLCJmaWxlIjoic291cmNlL2Nocm9tZV9hcGkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHRyZXN1bHQgPSBmbigpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucmV0cmlldmVTZXR0aW5nc0tWID0gZXhwb3J0cy5yZXRyaWV2ZVNldHRpbmdzID0gZXhwb3J0cy5zdG9yYWdlR2V0ID0gdm9pZCAwO1xyXG5jb25zdCB3ZWJleHRlbnNpb25fcG9seWZpbGxfdHNfMSA9IHJlcXVpcmUoXCJ3ZWJleHRlbnNpb24tcG9seWZpbGwtdHNcIik7XHJcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xyXG4vLyBXcmFwcGVyIGZvciByZXRyaWV2aW5nIGZyb20gc3RvcmFnZSB3aXRoIGRlZmF1bHQgdmFsdWUgaWYgdW5kZWZpbmVkXHJcbmZ1bmN0aW9uIHN0b3JhZ2VHZXQoc3RvcmFnZUtleSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VSZXN1bHQgPSB5aWVsZCB3ZWJleHRlbnNpb25fcG9seWZpbGxfdHNfMS5icm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KHN0b3JhZ2VLZXkpO1xyXG4gICAgICAgIHJldHVybiBzdG9yYWdlUmVzdWx0W3N0b3JhZ2VLZXldICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyBzdG9yYWdlUmVzdWx0W3N0b3JhZ2VLZXldIDogZGVmYXVsdFZhbHVlO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy5zdG9yYWdlR2V0ID0gc3RvcmFnZUdldDtcclxuLy8gV3JhcHBlciBmb3IgcmV0cmlldmluZyBzZXR0aW5ncyBmb3IgZ2l2ZW4gY2F0ZWdvcnkgYnkgdXBkYXRpbmcgZnJvbSBTdG9yYWdlIEFQSVxyXG5mdW5jdGlvbiByZXRyaWV2ZVNldHRpbmdzKHNldHRpbmdzQ2F0ZWdvcnkpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgLy8gR2V0IGRlZmF1bHQgc2V0dGluZ3MsIHRoZW4gdXBkYXRlIGluZGl2aWR1YWwgc2V0dGluZ3MgZnJvbSBTdG9yYWdlIEFQSVxyXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5U2V0dGluZ3MgPSBjb25zdGFudHNfMS5kZWZhdWx0U2V0dGluZ3Nbc2V0dGluZ3NDYXRlZ29yeV07XHJcbiAgICAgICAgZm9yIChjb25zdCBzZXR0aW5nIG9mIGNhdGVnb3J5U2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgLy8gSWdub3JlIHNldHRpbmdzIHdpdGhvdXQgYSB2YWx1ZSAoYnV0dG9ucyBtYWlubHkpXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5nLnZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlcGxhY2Ugd2l0aCB2YWx1ZSBmcm9tIHN0b3JhZ2UgaWYgbW9kaWZpZWQgZXhpc3RzLCBvdGhlcndpc2Uga2VlcCBkZWZhdWx0XHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdLZXkgPSBgc2V0dGluZy0ke3NldHRpbmdzQ2F0ZWdvcnl9LSR7c2V0dGluZy5rZXl9YDtcclxuICAgICAgICAgICAgc2V0dGluZy52YWx1ZSA9IHlpZWxkIHN0b3JhZ2VHZXQoc2V0dGluZ0tleSwgc2V0dGluZy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYXRlZ29yeVNldHRpbmdzO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy5yZXRyaWV2ZVNldHRpbmdzID0gcmV0cmlldmVTZXR0aW5ncztcclxuLy8gV3JhcHBlciBmb3IgZm9ybWF0dGluZyB0aGUgc2V0dGluZ3MgaW50byBrZXktdmFsdWUgaW5zdGVhZCBvZiBhcnJheVxyXG5mdW5jdGlvbiByZXRyaWV2ZVNldHRpbmdzS1Yoc2V0dGluZ3NDYXRlZ29yeSkge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCBjYXRlZ29yeVNldHRpbmdzS1YgPSB7fTtcclxuICAgICAgICBjb25zdCBjYXRlZ29yeVNldHRpbmdzID0geWllbGQgcmV0cmlldmVTZXR0aW5ncyhzZXR0aW5nc0NhdGVnb3J5KTsgLy8gR2V0IHNldHRpbmdzIGJlZm9yZSByZWZvcm1hdHRpbmdcclxuICAgICAgICBmb3IgKGNvbnN0IHNldHRpbmcgb2YgY2F0ZWdvcnlTZXR0aW5ncykge1xyXG4gICAgICAgICAgICAvLyBJZ25vcmUgc2V0dGluZ3Mgd2l0aG91dCBhIHZhbHVlIChidXR0b25zIG1haW5seSlcclxuICAgICAgICAgICAgaWYgKHNldHRpbmcudmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0ZWdvcnlTZXR0aW5nc0tWW3NldHRpbmcua2V5XSA9IHNldHRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYXRlZ29yeVNldHRpbmdzS1Y7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnRzLnJldHJpZXZlU2V0dGluZ3NLViA9IHJldHJpZXZlU2V0dGluZ3NLVjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5kZWZhdWx0U2V0dGluZ3MgPSB2b2lkIDA7XHJcbi8vIFNldHRpbmdzIGFjcm9zcyBhbGwgY2F0ZWdvcmllcyBmb3IgZXh0ZW5zaW9uXHJcbmV4cG9ydHMuZGVmYXVsdFNldHRpbmdzID0ge1xyXG4gICAgXCJiZXN0YnV5XCI6IFtcclxuICAgICAgICB7IGtleTogXCJjaGFuZ2VSZXNldFJlbG9hZFwiLCBkZXNjcmlwdGlvbjogXCJSZXNldCBhdXRvLXJlbG9hZCBvbiBjaGFuZ2Ugd2l0aG91dCByZWZyZXNoXCIsIHR5cGU6IFwiY2hlY2tib3hcIiwgdmFsdWU6IHRydWUgfSxcclxuICAgICAgICB7IGtleTogXCJub3RpZmljYXRpb25Tb3VuZFVSTFwiLCBkZXNjcmlwdGlvbjogXCJOb3RpZmljYXRpb24gc291bmQgVVJMIChtcDMpXCIsIHR5cGU6IFwidGV4dFwiLCB2YWx1ZTogXCJodHRwczovL2dpdGh1Yi5jb20vYWxiZXJ0LXN1bi90YW1wZXItc2NyaXB0cy9ibG9iL21haW4vcmVzb3VyY2VzL25vdGlmaWNhdGlvbi5tcDM/cmF3PXRydWVcIiB9LFxyXG4gICAgICAgIHsga2V5OiBcInRlc3ROb3RpZmljYXRpb25Tb3VuZFwiLCBkZXNjcmlwdGlvbjogXCJUZXN0IGN1cnJlbnQgbm90aWZpY2F0aW9uIHNvdW5kXCIsIHR5cGU6IFwiYnV0dG9uXCIsIGluc3RydWN0aW9uOiBcInRlc3ROb3RpZmljYXRpb25Tb3VuZFwiIH0sXHJcbiAgICBdXHJcbn07XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmogPSAzMjQ7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDMyNDogMCxcblx0NTMzOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHR9XG5cdH1cblx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2V4dGVuc2lvblwiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtleHRlbnNpb25cIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs3MzZdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg4MDYxKSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==